
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cpystal.color.color &#8212; cpystal  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for cpystal.color.color</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;`color`: for dealing with color space.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Iterator</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span> <span class="c1"># type: ignore</span>
<span class="kn">import</span> <span class="nn">matplotlib.colors</span> <span class="c1"># type: ignore</span>
<span class="kn">from</span> <span class="nn">matplotlib.patches</span> <span class="kn">import</span> <span class="n">Rectangle</span>
<span class="kn">import</span> <span class="nn">matplotlib.colors</span> <span class="k">as</span> <span class="nn">mcolors</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">numpy.typing</span> <span class="k">as</span> <span class="nn">npt</span>

<span class="n">Color_type</span> <span class="o">=</span> <span class="n">Union</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">,</span><span class="nb">int</span><span class="p">],</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">]]</span>
<div class="viewcode-block" id="Color"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color">[docs]</a><span class="k">class</span> <span class="nc">Color</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Express color spaces. A part of this class is based on MATLAB and the Python standard module &#39;colorsys&#39;.</span>

<span class="sd">    Note:</span>
<span class="sd">        Thereafter, we use the following type alias without notice:</span>
<span class="sd">            Color_type := tuple[int,int,int] | tuple[float,float,float].</span>

<span class="sd">        RGB = Red, Green, Blue</span>
<span class="sd">            R: [0.0, 1.0], transparent -&gt; red.</span>
<span class="sd">            G: [0.0, 1.0], transparent -&gt; green.</span>
<span class="sd">            B: [0.0, 1.0], transparent -&gt; blue.</span>
<span class="sd">            This RGB is supposed to be linearized.</span>
<span class="sd">        HSV = Hue(color phase), Saturation(colorfulness), Value(brightness)</span>
<span class="sd">            H: [0.0, 1.0], red -&gt; yellow -&gt; green -&gt; blue -&gt; magenta -&gt; red.</span>
<span class="sd">            S: [0.0, 1.0], medium -&gt; maximum.</span>
<span class="sd">            V: [0.0, 1.0], black-strong -&gt; black-weak.</span>
<span class="sd">        HLS = Hue(color phase), Luminance(lightness), Saturation(colorfulness)</span>
<span class="sd">            H: [0.0, 1.0], red -&gt; yellow -&gt; green -&gt; blue -&gt; magenta -&gt; red.</span>
<span class="sd">            L: [0.0, 1.0], black -&gt; white.</span>
<span class="sd">            S: [0.0, 1.0], medium -&gt; maximum.</span>
<span class="sd">        YIQ = Y(perceived grey level), I(same-phase), Q(anti-phase)</span>
<span class="sd">            Y: [0.0, 1.0], black -&gt; white.</span>
<span class="sd">            I: [-0.5959, 0.5959], blue -&gt; orange.</span>
<span class="sd">            Q: [-0.5229, 0.5229], green -&gt; violet.</span>
<span class="sd">        XYZ</span>
<span class="sd">            X: [0.0, 0.951]</span>
<span class="sd">            Y: [0.0, 1.0]</span>
<span class="sd">            Z: [0.0, 1.090]</span>
<span class="sd">        L*a*b*</span>
<span class="sd">            L*: [0, 100]</span>
<span class="sd">            a*: [-128, 127]</span>
<span class="sd">            b*: [-128, 127]</span>

<span class="sd">        Note that `color_system` of the result color of binary operation is always &#39;RGB&#39;.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        color (Color_type): Color value.</span>
<span class="sd">        color_system (str): Color system (RGB, HSV, HLS, YIQ).</span>


<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span>
                <span class="n">color_system</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="n">white_point</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;D65&quot;</span><span class="p">,</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">color_system</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_white_point</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">white_point</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_value_range</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;RGB&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)],</span>
            <span class="s2">&quot;HSV&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)],</span>
            <span class="s2">&quot;HLS&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)],</span>
            <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)],</span>
            <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)],</span>
            <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.5959</span><span class="p">,</span> <span class="mf">0.5959</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">0.5229</span><span class="p">,</span> <span class="mf">0.5229</span><span class="p">)],</span>
            <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.951</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.090</span><span class="p">)],</span>
            <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">100.0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">128.0</span><span class="p">,</span> <span class="mf">127.0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">128.0</span><span class="p">,</span> <span class="mf">127.0</span><span class="p">)],</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_weight</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="si">}{</span><span class="nb">tuple</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Color(</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">)</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="p">)</span><span class="si">}</span><span class="s2">, white_point=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">white_point</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">new_color</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">new_color</span><span class="o">.</span><span class="n">_color</span>
            <span class="n">m</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="o">+</span> <span class="nb">min</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
            <span class="n">new_color</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="n">r</span><span class="p">,</span> <span class="n">m</span><span class="o">-</span><span class="n">g</span><span class="p">,</span> <span class="n">m</span><span class="o">-</span><span class="n">b</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">new_color</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_color</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">new_color</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">())</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="n">new_color</span><span class="o">.</span><span class="n">color_system</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">new_color</span>
    
    <span class="k">def</span> <span class="fm">__invert__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">new_color</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">new_color</span><span class="o">.</span><span class="n">_color</span>
            <span class="n">new_color</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">r</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">g</span><span class="p">,</span> <span class="mi">1</span><span class="o">-</span><span class="n">b</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">new_color</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_color</span> <span class="o">=</span> <span class="p">(</span><span class="o">~</span><span class="n">new_color</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">())</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="n">new_color</span><span class="o">.</span><span class="n">color_system</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">new_color</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_properties</span><span class="p">()</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">get_properties</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        
    <span class="k">def</span> <span class="nf">__neq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Simple addition operationn between `Color` instances.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Color): `Color` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: Result of the operation.</span>
<span class="sd">        </span>
<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; r: Color = Color(RED_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; g: Color = Color(GREEN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; b: Color = Color(BLUE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; c: Color = Color(CYAN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; m: Color = Color(MAGENTA_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; y: Color = Color(YELLOW_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; white: Color = Color(WHITE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; black: Color = Color(BLACK_RGB, RGB)</span>

<span class="sd">            &gt;&gt;&gt; assert r + g == g + r == y</span>
<span class="sd">            &gt;&gt;&gt; assert b + r == r + b == m</span>
<span class="sd">            &gt;&gt;&gt; assert g + b == b + g == c</span>
<span class="sd">            &gt;&gt;&gt; assert c + m == m + c == white</span>
<span class="sd">            &gt;&gt;&gt; assert m + y == y + m == white</span>
<span class="sd">            &gt;&gt;&gt; assert y + c == c + y == white</span>
<span class="sd">            &gt;&gt;&gt; assert r + g + b == white</span>
<span class="sd">            &gt;&gt;&gt; assert c + m + y == white</span>
<span class="sd">            &gt;&gt;&gt; assert black + white == white</span>
<span class="sd">            &gt;&gt;&gt; assert r + black == r</span>
<span class="sd">            &gt;&gt;&gt; assert g + black == g</span>
<span class="sd">            &gt;&gt;&gt; assert b + black == b</span>
<span class="sd">            &gt;&gt;&gt; assert c + black == c</span>
<span class="sd">            &gt;&gt;&gt; assert m + black == m</span>
<span class="sd">            &gt;&gt;&gt; assert y + black == y</span>
<span class="sd">            &gt;&gt;&gt; assert r + white == g + white == b + white == white</span>
<span class="sd">            &gt;&gt;&gt; assert c + white == m + white == y + white == white</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">maxr</span><span class="p">),(</span> <span class="n">_</span><span class="p">,</span> <span class="n">maxg</span><span class="p">),</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">maxb</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_range</span><span class="p">[</span><span class="s2">&quot;RGB&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">x</span><span class="p">,</span> <span class="n">maxr</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="n">y</span><span class="p">,</span> <span class="n">maxg</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="n">z</span><span class="p">,</span> <span class="n">maxb</span><span class="p">)),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Inverse simple addition operationn between `Color` instances.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Color): `Color` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: Result of the operation.</span>
<span class="sd">        </span>
<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; r: Color = Color(RED_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; g: Color = Color(GREEN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; b: Color = Color(BLUE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; c: Color = Color(CYAN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; m: Color = Color(MAGENTA_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; y: Color = Color(YELLOW_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; white: Color = Color(WHITE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; black: Color = Color(BLACK_RGB, RGB)</span>

<span class="sd">            &gt;&gt;&gt; assert r - g != r + -g</span>
<span class="sd">            &gt;&gt;&gt; assert r + g - g != r - g + g</span>
<span class="sd">            &gt;&gt;&gt; assert r - r == black</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="p">(</span><span class="n">minr</span><span class="p">,</span> <span class="n">_</span><span class="p">),</span> <span class="p">(</span><span class="n">ming</span><span class="p">,</span> <span class="n">_</span><span class="p">),</span> <span class="p">(</span><span class="n">minb</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_range</span><span class="p">[</span><span class="s2">&quot;RGB&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">x</span><span class="p">,</span> <span class="n">minr</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">y</span><span class="p">,</span> <span class="n">ming</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="n">z</span><span class="p">,</span> <span class="n">minb</span><span class="p">)),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_weighted_average</span><span class="p">(</span><span class="n">x1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">x2</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">w1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">w2</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">w1</span><span class="o">*</span><span class="n">x1</span> <span class="o">+</span> <span class="n">w2</span><span class="o">*</span><span class="n">x2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">w1</span> <span class="o">+</span> <span class="n">w2</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Weighted average operationn between `Color` instances.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Color): `Color` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: Result of the operation.</span>
<span class="sd">        </span>
<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; r: Color = Color(RED_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; g: Color = Color(GREEN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; b: Color = Color(BLUE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; c: Color = Color(CYAN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; m: Color = Color(MAGENTA_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; y: Color = Color(YELLOW_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; white: Color = Color(WHITE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; black: Color = Color(BLACK_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; gray: Color = Color(GRAY_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; olive: Color = Color((0.5, 0.5, 0.0), RGB)</span>
<span class="sd">            &gt;&gt;&gt; purple: Color = Color((0.5, 0.0, 0.5), RGB)</span>
<span class="sd">            &gt;&gt;&gt; teal: Color = Color((0.0, 0.5, 0.5), RGB)</span>

<span class="sd">            &gt;&gt;&gt; assert r * g == g * r == olive</span>
<span class="sd">            &gt;&gt;&gt; assert g * b == b * g == teal</span>
<span class="sd">            &gt;&gt;&gt; assert b * r == r * b == purple</span>
<span class="sd">            &gt;&gt;&gt; assert c * y == Color((0.5, 1.0, 0.5), RGB)</span>
<span class="sd">            &gt;&gt;&gt; assert y * m == Color((1.0, 0.5, 0.5), RGB)</span>
<span class="sd">            &gt;&gt;&gt; assert m * c == Color((0.5, 0.5, 1.0), RGB)</span>
<span class="sd">            &gt;&gt;&gt; assert black * white == gray</span>
<span class="sd">            &gt;&gt;&gt; assert (r * g) * b == r * (g * b) == Color((1/3, 1/3, 1/3), RGB)</span>
<span class="sd">            &gt;&gt;&gt; assert c * m * y == Color((2/3, 2/3, 2/3), RGB)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_weight</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">_weight</span>
        <span class="n">p</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_weighted_average</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
        <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_weighted_average</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
        <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_weighted_average</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_weight</span> <span class="o">=</span> <span class="n">n</span> <span class="o">+</span> <span class="n">m</span>
        <span class="k">return</span> <span class="n">new_color</span>
    
    <span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Anti-weighted average.</span>

<span class="sd">        Note:</span>
<span class="sd">            `ZeroDivisionError` is called if self._weight == other._weight.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">n</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_weight</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">_weight</span>
        <span class="n">p</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_weighted_average</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="o">-</span><span class="n">m</span><span class="p">)</span>
        <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_weighted_average</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="o">-</span><span class="n">m</span><span class="p">)</span>
        <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_weighted_average</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="o">-</span><span class="n">m</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_weight</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span>
        <span class="k">return</span> <span class="n">new_color</span>
    
    <span class="k">def</span> <span class="fm">__matmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Multiplicative color change.</span>

<span class="sd">        ref: A. Kitaoka, Journal of Color Science Association of Japan, 35(3), 234-236, (2011).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">t</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.5</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">((</span><span class="n">t</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">t</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">t</span><span class="p">)</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">*</span><span class="n">b</span><span class="p">,</span> <span class="p">(</span><span class="n">t</span><span class="o">+</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">t</span><span class="p">)</span><span class="o">*</span><span class="n">z</span><span class="p">)</span><span class="o">*</span><span class="n">c</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__xor__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;XOR-like operationn between `Color` instances.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Color): `Color` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: Result of the operation.</span>
<span class="sd">        </span>
<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; r: Color = Color(RED_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; g: Color = Color(GREEN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; b: Color = Color(BLUE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; c: Color = Color(CYAN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; m: Color = Color(MAGENTA_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; y: Color = Color(YELLOW_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; white: Color = Color(WHITE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; black: Color = Color(BLACK_RGB, RGB)</span>

<span class="sd">            &gt;&gt;&gt; assert r ^ g == g ^ r == y</span>
<span class="sd">            &gt;&gt;&gt; assert b ^ r == r ^ b == m</span>
<span class="sd">            &gt;&gt;&gt; assert g ^ b == b ^ g == c</span>
<span class="sd">            &gt;&gt;&gt; assert c ^ m == m ^ c == y</span>
<span class="sd">            &gt;&gt;&gt; assert m ^ y == y ^ m == c</span>
<span class="sd">            &gt;&gt;&gt; assert y ^ c == c ^ y == m</span>
<span class="sd">            &gt;&gt;&gt; assert r ^ g ^ b == white</span>
<span class="sd">            &gt;&gt;&gt; assert c ^ m ^ y == black</span>
<span class="sd">            &gt;&gt;&gt; assert black ^ white == white</span>
<span class="sd">            &gt;&gt;&gt; assert r ^ white == c</span>
<span class="sd">            &gt;&gt;&gt; assert g ^ white == m</span>
<span class="sd">            &gt;&gt;&gt; assert b ^ white == y</span>
<span class="sd">            &gt;&gt;&gt; assert r ^ black == r</span>
<span class="sd">            &gt;&gt;&gt; assert g ^ black == g</span>
<span class="sd">            &gt;&gt;&gt; assert b ^ black == b</span>
<span class="sd">            &gt;&gt;&gt; assert r ^ r == b ^ b == g ^ g == black</span>
<span class="sd">            &gt;&gt;&gt; assert c ^ c == m ^ m == y ^ y == black</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">p</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">y</span><span class="p">))</span>
        <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;OR-like operationn between `Color` instances.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Color): `Color` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: Result of the operation.</span>
<span class="sd">        </span>
<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; r: Color = Color(RED_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; g: Color = Color(GREEN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; b: Color = Color(BLUE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; c: Color = Color(CYAN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; m: Color = Color(MAGENTA_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; y: Color = Color(YELLOW_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; white: Color = Color(WHITE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; black: Color = Color(BLACK_RGB, RGB)</span>

<span class="sd">            &gt;&gt;&gt; assert r | g == g | r == y</span>
<span class="sd">            &gt;&gt;&gt; assert b | r == r | b == m</span>
<span class="sd">            &gt;&gt;&gt; assert g | b == b | g == c</span>
<span class="sd">            &gt;&gt;&gt; assert c | m == m | c == white</span>
<span class="sd">            &gt;&gt;&gt; assert m | y == y | m == white</span>
<span class="sd">            &gt;&gt;&gt; assert y | c == c | y == white</span>
<span class="sd">            &gt;&gt;&gt; assert r | g | b == white</span>
<span class="sd">            &gt;&gt;&gt; assert c | m | y == white</span>
<span class="sd">            &gt;&gt;&gt; assert black | white == white</span>
<span class="sd">            &gt;&gt;&gt; assert r | black == r</span>
<span class="sd">            &gt;&gt;&gt; assert g | black == g</span>
<span class="sd">            &gt;&gt;&gt; assert b | black == b</span>
<span class="sd">            &gt;&gt;&gt; assert c | black == c</span>
<span class="sd">            &gt;&gt;&gt; assert m | black == m</span>
<span class="sd">            &gt;&gt;&gt; assert y | black == y</span>
<span class="sd">            &gt;&gt;&gt; assert r | white == g | white == b | white == white</span>
<span class="sd">            &gt;&gt;&gt; assert c | white == m | white == y | white == white</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">p</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span>
        <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">y</span><span class="p">)</span>
        <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">z</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__and__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;AND-like operationn between `Color` instances.</span>

<span class="sd">        Args:</span>
<span class="sd">            other (Color): `Color` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: Result of the operation.</span>
<span class="sd">        </span>
<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; r: Color = Color(RED_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; g: Color = Color(GREEN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; b: Color = Color(BLUE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; c: Color = Color(CYAN_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; m: Color = Color(MAGENTA_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; y: Color = Color(YELLOW_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; white: Color = Color(WHITE_RGB, RGB)</span>
<span class="sd">            &gt;&gt;&gt; black: Color = Color(BLACK_RGB, RGB)</span>

<span class="sd">            &gt;&gt;&gt; assert r &amp; g == g &amp; r == black</span>
<span class="sd">            &gt;&gt;&gt; assert b &amp; r == r &amp; b == black</span>
<span class="sd">            &gt;&gt;&gt; assert g &amp; b == b &amp; g == black</span>
<span class="sd">            &gt;&gt;&gt; assert c &amp; m == m &amp; c == b</span>
<span class="sd">            &gt;&gt;&gt; assert m &amp; y == y &amp; m == r</span>
<span class="sd">            &gt;&gt;&gt; assert y &amp; c == c &amp; y == g</span>
<span class="sd">            &gt;&gt;&gt; assert r &amp; g &amp; b == black</span>
<span class="sd">            &gt;&gt;&gt; assert c &amp; m &amp; y == black</span>
<span class="sd">            &gt;&gt;&gt; assert black &amp; white == black</span>
<span class="sd">            &gt;&gt;&gt; assert r &amp; white == r</span>
<span class="sd">            &gt;&gt;&gt; assert g &amp; white == g</span>
<span class="sd">            &gt;&gt;&gt; assert b &amp; white == b</span>
<span class="sd">            &gt;&gt;&gt; assert c &amp; white == c</span>
<span class="sd">            &gt;&gt;&gt; assert m &amp; white == m</span>
<span class="sd">            &gt;&gt;&gt; assert y &amp; white == y</span>
<span class="sd">            &gt;&gt;&gt; assert r &amp; black == g &amp; black == b &amp; black == black</span>
<span class="sd">            &gt;&gt;&gt; assert c &amp; black == m &amp; black == y &amp; black == black</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">p</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">a</span> <span class="o">==</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">a</span><span class="o">*</span><span class="n">x</span> <span class="o">/</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>
        <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">b</span> <span class="o">==</span> <span class="n">y</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">b</span><span class="o">*</span><span class="n">y</span> <span class="o">/</span> <span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="n">y</span><span class="o">-</span><span class="n">b</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
        <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="n">z</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">c</span><span class="o">*</span><span class="n">z</span> <span class="o">/</span> <span class="p">(</span><span class="n">c</span><span class="o">+</span><span class="n">z</span><span class="o">-</span><span class="n">c</span><span class="o">*</span><span class="n">z</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">r</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
    
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">__deepcopy__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="p">,</span>
            <span class="n">white_point</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">white_point</span>
        <span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_check_color_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">res</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">):</span>
            <span class="n">minc</span><span class="p">,</span> <span class="n">maxc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value_range</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="p">][</span><span class="n">i</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;</span> <span class="n">minc</span><span class="p">:</span>
                <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">minc</span>
            <span class="k">if</span> <span class="n">c</span> <span class="o">&gt;</span> <span class="n">maxc</span><span class="p">:</span>
                <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">maxc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_hls_calc</span><span class="p">(</span><span class="n">m1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">m2</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">hue</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">hue</span> <span class="o">=</span> <span class="n">hue</span> <span class="o">%</span> <span class="mf">1.0</span>
        <span class="k">if</span> <span class="n">hue</span> <span class="o">&lt;</span> <span class="mf">1.0</span><span class="o">/</span><span class="mf">6.0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">m1</span> <span class="o">+</span> <span class="p">(</span><span class="n">m2</span><span class="o">-</span><span class="n">m1</span><span class="p">)</span><span class="o">*</span><span class="n">hue</span><span class="o">*</span><span class="mf">6.0</span>
        <span class="k">if</span> <span class="n">hue</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">m2</span>
        <span class="k">if</span> <span class="n">hue</span> <span class="o">&lt;</span> <span class="mf">2.0</span><span class="o">/</span><span class="mf">3.0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">m1</span> <span class="o">+</span> <span class="p">(</span><span class="n">m2</span><span class="o">-</span><span class="n">m1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mf">2.0</span><span class="o">/</span><span class="mf">3.0</span><span class="o">-</span><span class="n">hue</span><span class="p">)</span><span class="o">*</span><span class="mf">6.0</span>
        <span class="k">return</span> <span class="n">m1</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_round_color</span><span class="p">(</span><span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">color</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">color</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_round_color</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">color_system</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color_system</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">white_point</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_white_point</span>
    
    <span class="nd">@white_point</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">white_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;あとで実装する．これを実装するには，各white point間での colorの変換メソッドを実装する必要がある</span>
<span class="sd">        途中でwhite pointを変更されるとself.colorが指す色が変わってしまうので管理する．</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;future works&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_white_point</span> <span class="o">!=</span> <span class="n">value</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
                <span class="k">pass</span>
    
<div class="viewcode-block" id="Color.deepcopy"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.deepcopy">[docs]</a>    <span class="k">def</span> <span class="nf">deepcopy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span></div>

<div class="viewcode-block" id="Color.get_properties"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.get_properties">[docs]</a>    <span class="k">def</span> <span class="nf">get_properties</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">Color_type</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Properties of `Color` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple[Color_type, str, str]: (color, color system, white point)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">white_point</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Color.get_base_info"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.get_base_info">[docs]</a>    <span class="k">def</span> <span class="nf">get_base_info</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Basic information of `Color` instance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple[str, str]: (color system, white point)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">white_point</span><span class="p">)</span></div>

<div class="viewcode-block" id="Color.rgb_to_hsv"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.rgb_to_hsv">[docs]</a>    <span class="k">def</span> <span class="nf">rgb_to_hsv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;RGB -&gt; HSV</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>

<span class="sd">            The value range of (h,s,v) is:</span>
<span class="sd">                h: [0.0, 1.0] (or [0, 360])</span>
<span class="sd">                s: [0.0, 1.0] (or [0, MAX_SV])</span>
<span class="sd">                v: [0.0, 1.0] (or [0, MAX_SV])</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in HSV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;RGB&#39;&quot;</span><span class="p">)</span>
        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">maxc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">minc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">v</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">maxc</span>
        <span class="k">if</span> <span class="n">maxc</span> <span class="o">==</span> <span class="n">minc</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">((</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">v</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">)</span>
        <span class="n">s</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span> <span class="o">/</span> <span class="n">maxc</span>
        <span class="n">rc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">r</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
        <span class="n">gc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">g</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
        <span class="n">bc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
        <span class="n">h</span><span class="p">:</span> <span class="nb">float</span>
        <span class="k">if</span> <span class="n">r</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">bc</span> <span class="o">-</span> <span class="n">gc</span>
        <span class="k">elif</span> <span class="n">g</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="n">rc</span> <span class="o">-</span> <span class="n">bc</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="mf">4.0</span> <span class="o">+</span> <span class="n">gc</span> <span class="o">-</span> <span class="n">rc</span>
        <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="mf">6.0</span><span class="p">)</span> <span class="o">%</span> <span class="mf">1.0</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;HSV&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.hsv_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.hsv_to_rgb">[docs]</a>    <span class="k">def</span> <span class="nf">hsv_to_rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;HSV -&gt; RGB</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (h,s,v) is:</span>
<span class="sd">                h: [0.0, 1.0] (or [0, 360])</span>
<span class="sd">                s: [0.0, 1.0] (or [0, MAX_SV])</span>
<span class="sd">                v: [0.0, 1.0] (or [0, MAX_SV])</span>
<span class="sd">                </span>
<span class="sd">            The value range of (r,g,b) is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in RGB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;HSV&#39;&quot;</span><span class="p">)</span>
        <span class="n">h</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">v</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">((</span><span class="n">v</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">v</span><span class="p">),</span> <span class="s2">&quot;RGB&quot;</span><span class="p">)</span>
        <span class="n">i</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="o">*</span><span class="mf">6.0</span><span class="p">)</span>
        <span class="n">f</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="o">*</span><span class="mf">6.0</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span>
        <span class="n">p</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">s</span><span class="p">)</span>
        <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">s</span><span class="o">*</span><span class="n">f</span><span class="p">)</span>
        <span class="n">t</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">f</span><span class="p">))</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">%</span><span class="mi">6</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">v</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">q</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">p</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">p</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">t</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">v</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">v</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">v</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>
        
<div class="viewcode-block" id="Color.rgb_to_hls"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.rgb_to_hls">[docs]</a>    <span class="k">def</span> <span class="nf">rgb_to_hls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;RGB -&gt; HLS</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>
<span class="sd">            </span>
<span class="sd">            The value range of (h,l,s) is:</span>
<span class="sd">                h: [0.0, 1.0] (or [0, 360])</span>
<span class="sd">                l: [0.0, 1.0] (or [0, MAX_LS])</span>
<span class="sd">                s: [0.0, 1.0] (or [0, MAX_LS])</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in HLS.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;RGB&#39;&quot;</span><span class="p">)</span>
        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">maxc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">minc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">l</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">minc</span><span class="o">+</span><span class="n">maxc</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>
        <span class="k">if</span> <span class="n">minc</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">((</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span> <span class="s2">&quot;HLS&quot;</span><span class="p">)</span>
        <span class="n">s</span><span class="p">:</span> <span class="nb">float</span>
        <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;=</span> <span class="mf">0.5</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">+</span><span class="n">minc</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2.0</span><span class="o">-</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
        <span class="n">rc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">r</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
        <span class="n">gc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">g</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
        <span class="n">bc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
        <span class="n">h</span><span class="p">:</span> <span class="nb">float</span>
        <span class="k">if</span> <span class="n">r</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="n">bc</span> <span class="o">-</span> <span class="n">gc</span>
        <span class="k">elif</span> <span class="n">g</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="n">rc</span> <span class="o">-</span> <span class="n">bc</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">h</span> <span class="o">=</span> <span class="mf">4.0</span> <span class="o">+</span> <span class="n">gc</span> <span class="o">-</span> <span class="n">rc</span>
        <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="mf">6.0</span><span class="p">)</span> <span class="o">%</span> <span class="mf">1.0</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;HLS&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.hls_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.hls_to_rgb">[docs]</a>    <span class="k">def</span> <span class="nf">hls_to_rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;HLS -&gt; RGB</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (h,l,s) is:</span>
<span class="sd">                h: [0.0, 1.0] (or [0, 360])</span>
<span class="sd">                l: [0.0, 1.0] (or [0, MAX_LS])</span>
<span class="sd">                s: [0.0, 1.0] (or [0, MAX_LS])</span>
<span class="sd">            </span>
<span class="sd">            The value range of (r,g,b) is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in RGB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;HLS&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;HLS&#39;&quot;</span><span class="p">)</span>
        <span class="n">h</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">g</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">l</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">m2</span><span class="p">:</span> <span class="nb">float</span>
            <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;=</span> <span class="mf">0.5</span><span class="p">:</span>
                <span class="n">m2</span> <span class="o">=</span> <span class="n">l</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">+</span><span class="n">s</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">m2</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="n">s</span> <span class="o">-</span> <span class="n">l</span><span class="o">*</span><span class="n">s</span>
            <span class="n">m1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="n">l</span> <span class="o">-</span> <span class="n">m2</span>
            <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hls_calc</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">h</span><span class="o">+</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">3.0</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hls_calc</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hls_calc</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">h</span><span class="o">-</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">3.0</span><span class="p">)</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>
    
<div class="viewcode-block" id="Color.rgb_to_yiq"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.rgb_to_yiq">[docs]</a>    <span class="k">def</span> <span class="nf">rgb_to_yiq</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;RGB -&gt; YIQ</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>
<span class="sd">            </span>
<span class="sd">            The value range of (y,i,q) is:</span>
<span class="sd">                y: [0.0, 1.0]</span>
<span class="sd">                i: [-0.5959, 0.5959]</span>
<span class="sd">                q: [-0.5229, 0.5229].</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in YIQ.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;RGB&#39;&quot;</span><span class="p">)</span>
        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.299</span><span class="o">*</span><span class="n">r</span> <span class="o">+</span> <span class="mf">0.587</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.114</span><span class="o">*</span><span class="n">b</span>
        <span class="n">i</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.596</span><span class="o">*</span><span class="n">r</span> <span class="o">-</span> <span class="mf">0.274</span><span class="o">*</span><span class="n">g</span> <span class="o">-</span> <span class="mf">0.322</span><span class="o">*</span><span class="n">b</span>
        <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.211</span><span class="o">*</span><span class="n">r</span> <span class="o">-</span> <span class="mf">0.523</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.312</span><span class="o">*</span><span class="n">b</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;YIQ&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.yiq_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.yiq_to_rgb">[docs]</a>    <span class="k">def</span> <span class="nf">yiq_to_rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;YIQ -&gt; RGB</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (y,i,q) is:</span>
<span class="sd">                y: [0.0, 1.0]</span>
<span class="sd">                i: [-0.5959, 0.5959]</span>
<span class="sd">                q: [-0.5229, 0.5229].</span>

<span class="sd">            The value range of (r,g,b) is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in RGB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;YIQ&#39;&quot;</span><span class="p">)</span>
        <span class="n">y</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">q</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mf">0.956</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="mf">0.621</span><span class="o">*</span><span class="n">q</span>
        <span class="n">g</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mf">0.273</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span> <span class="mf">0.647</span><span class="o">*</span><span class="n">q</span>
        <span class="n">b</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mf">1.104</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="mf">1.701</span><span class="o">*</span><span class="n">q</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.rgb_to_srgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.rgb_to_srgb">[docs]</a>    <span class="k">def</span> <span class="nf">rgb_to_srgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;RGB -&gt; sRGB</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) in RGB and sRGB is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in sRGB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;RGB&#39;&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">u</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">u</span> <span class="o">&lt;=</span> <span class="mf">0.0031308</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">12.92</span> <span class="o">*</span> <span class="n">u</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">1.055</span> <span class="o">*</span> <span class="n">u</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">2.4</span><span class="p">)</span> <span class="o">-</span> <span class="mf">0.055</span>

        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">_f</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;sRGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.srgb_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.srgb_to_rgb">[docs]</a>    <span class="k">def</span> <span class="nf">srgb_to_rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;sRGB -&gt; RGB</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) in RGB and sRGB is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in RGB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;sRGB&#39;&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">u</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">u</span> <span class="o">&lt;=</span> <span class="mf">0.040450</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">u</span> <span class="o">/</span> <span class="mf">12.92</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">((</span><span class="n">u</span> <span class="o">+</span> <span class="mf">0.055</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1.055</span><span class="p">)</span> <span class="o">**</span> <span class="mf">2.4</span>

        <span class="n">sr</span><span class="p">,</span><span class="n">sg</span><span class="p">,</span><span class="n">sb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">_f</span><span class="p">(</span><span class="n">sr</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">sg</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">sb</span><span class="p">))</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.rgb_to_adobergb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.rgb_to_adobergb">[docs]</a>    <span class="k">def</span> <span class="nf">rgb_to_adobergb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;RGB -&gt; Adobe RGB</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) in RGB and Adobe RGB is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in Adobe RGB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;RGB&#39;&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">u</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">u</span> <span class="o">&lt;=</span> <span class="mf">0.00174</span><span class="p">:</span>
                <span class="k">return</span> <span class="mf">32.0</span> <span class="o">*</span> <span class="n">u</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">u</span> <span class="o">**</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mf">2.2</span><span class="p">)</span>

        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">_f</span><span class="p">(</span><span class="n">r</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">g</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;Adobe RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.adobergb_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.adobergb_to_rgb">[docs]</a>    <span class="k">def</span> <span class="nf">adobergb_to_rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Adobe RGB -&gt; RGB</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) in RGB and Adobe RGB is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in Adobe RGB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;Adobe RGB&#39;&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">u</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">u</span> <span class="o">&lt;=</span> <span class="mf">0.0556</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">u</span> <span class="o">/</span> <span class="mf">32.0</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">u</span> <span class="o">**</span> <span class="mf">2.2</span>

        <span class="n">ar</span><span class="p">,</span><span class="n">ag</span><span class="p">,</span><span class="n">ab</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">_f</span><span class="p">(</span><span class="n">ar</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">ag</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">ab</span><span class="p">))</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.rgb_to_xyz"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.rgb_to_xyz">[docs]</a>    <span class="k">def</span> <span class="nf">rgb_to_xyz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">white_point</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;D65&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;RGB -&gt; XYZ</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>
<span class="sd">                </span>
<span class="sd">        Args:</span>
<span class="sd">            white point (str):</span>
<span class="sd">                &#39;D65&#39;: (x,y,z) = (0.95046, 1.0, 1.08906)</span>
<span class="sd">                &#39;D50&#39;: (x,y,z) = (0.9642, 1.0, 0.8249)</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in XYZ.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;RGB&#39;&quot;</span><span class="p">)</span>
        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.412391</span><span class="o">*</span><span class="n">r</span> <span class="o">+</span> <span class="mf">0.357584</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.180481</span><span class="o">*</span><span class="n">b</span>
        <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.212639</span><span class="o">*</span><span class="n">r</span> <span class="o">+</span> <span class="mf">0.715169</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.072192</span><span class="o">*</span><span class="n">b</span>
        <span class="n">z</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.019331</span><span class="o">*</span><span class="n">r</span> <span class="o">+</span> <span class="mf">0.119195</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.950532</span><span class="o">*</span><span class="n">b</span>
        <span class="c1"># x: float = 2.76883*r + 1.75171*g + 1.13014*b</span>
        <span class="c1"># y: float = 1.00000*r + 4.59061*g + 0.06007*b</span>
        <span class="c1"># z: float = 0.00000*r + 0.05651*g + 5.59417*b</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;XYZ&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># new_color._check_color_value()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.xyz_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.xyz_to_rgb">[docs]</a>    <span class="k">def</span> <span class="nf">xyz_to_rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;XYZ -&gt; RGB</span>

<span class="sd">        Note:</span>
<span class="sd">            The value range of (r,g,b) is:</span>
<span class="sd">                r: [0.0, 1.0]</span>
<span class="sd">                g: [0.0, 1.0]</span>
<span class="sd">                b: [0.0, 1.0]</span>
<span class="sd">            </span>
<span class="sd">            D65 white point: (x,y,z) = (0.95046, 1.0, 1.08906)</span>
<span class="sd">            D50 white point: (x,y,z) = (0.9642, 1.0, 0.8249)</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in RGB.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;XYZ&#39;&quot;</span><span class="p">)</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">3.240970</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mf">1.537383</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="mf">0.498611</span><span class="o">*</span><span class="n">z</span>
        <span class="n">g</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.969244</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mf">1.875968</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mf">0.041555</span><span class="o">*</span><span class="n">z</span>
        <span class="n">b</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.055630</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.203977</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mf">1.056972</span><span class="o">*</span><span class="n">z</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

    <span class="k">def</span> <span class="nf">_d65_to_d50</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xyz</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;D65 -&gt; D50</span>

<span class="sd">        Note:</span>
<span class="sd">            In CIE1931,</span>
<span class="sd">            D65 white point: (x,y,z) = (0.95046, 1.0, 1.08906)</span>
<span class="sd">            D50 white point: (x,y,z) = (0.9642, 1.0, 0.8249).</span>
<span class="sd">            D65 and D50 represent Planck radiation </span>
<span class="sd">            with correlated color temperatures of ~6500 K and ~5000 K, respectively.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            xyz (Color_type): Color value in xyz(D65).</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            (Color_type): Color value in xyz(D50).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
        <span class="n">xx</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.047886</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mf">0.022919</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="mf">0.050216</span><span class="o">*</span><span class="n">z</span>
        <span class="n">yy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.029582</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mf">0.990484</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="mf">0.017079</span><span class="o">*</span><span class="n">z</span>
        <span class="n">zz</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.009252</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mf">0.015073</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mf">0.751678</span><span class="o">*</span><span class="n">z</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">zz</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_d50_to_d65</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xyz</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;D65 -&gt; D50</span>

<span class="sd">        Note:</span>
<span class="sd">            In CIE1931,</span>
<span class="sd">            D65 white point: (x,y,z) = (0.95046, 1.0, 1.08906)</span>
<span class="sd">            D50 white point: (x,y,z) = (0.9642, 1.0, 0.8249).</span>
<span class="sd">            D65 and D50 represent Planck radiation </span>
<span class="sd">            with correlated color temperatures of ~6500 K and ~5000 K, respectively.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            xyz (Color_type): Color value in xyz(D50).</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            (Color_type): Color value in xyz(D65).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">xyz</span>
        <span class="n">xx</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.955512</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.023073</span><span class="o">*</span><span class="n">y</span> <span class="o">-</span> <span class="mf">0.063309</span><span class="o">*</span><span class="n">z</span>
        <span class="n">yy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.028325</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mf">1.009942</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mf">0.021055</span><span class="o">*</span><span class="n">z</span>
        <span class="n">zz</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.012329</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mf">0.020536</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="mf">1.330714</span><span class="o">*</span><span class="n">z</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">xx</span><span class="p">,</span> <span class="n">yy</span><span class="p">,</span> <span class="n">zz</span><span class="p">)</span>

<div class="viewcode-block" id="Color.xyz_to_lab"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.xyz_to_lab">[docs]</a>    <span class="k">def</span> <span class="nf">xyz_to_lab</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;XYZ -&gt; L*a*b*</span>

<span class="sd">         Note:</span>
<span class="sd">            The XYZ and RGB color systems basically use the D65 standard light source as the white point,</span>
<span class="sd">            but the L*a*b* color system uses the D50.</span>
<span class="sd">            In order to adjust for this difference, Bradford transformation is used.</span>

<span class="sd">            The value range of (l,a,b) is:</span>
<span class="sd">                l: [0.0, 100.0]</span>
<span class="sd">                a: may take an absolute value greater than 100</span>
<span class="sd">                b: may take an absolute value greater than 100. </span>

<span class="sd">            D65 white point: (x,y,z) = (0.95046, 1.0, 1.08906)</span>
<span class="sd">            D50 white point: (x,y,z) = (0.9642, 1.0, 0.8249).</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in L*a*b*.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;XYZ&#39;&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_f</span><span class="p">(</span><span class="n">u</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">u</span> <span class="o">&gt;</span> <span class="p">(</span><span class="mi">6</span><span class="o">/</span><span class="mi">29</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">u</span> <span class="o">**</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">((</span><span class="mi">29</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="n">u</span> <span class="o">+</span> <span class="mi">16</span><span class="p">)</span> <span class="o">/</span> <span class="mi">116</span>
        <span class="n">xw</span><span class="p">,</span><span class="n">yw</span><span class="p">,</span><span class="n">zw</span> <span class="o">=</span> <span class="mf">0.9642</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8249</span> <span class="c1"># D50 white point</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_d65_to_d50</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_color</span><span class="p">)</span> <span class="c1"># Bradford transformation</span>
        <span class="n">fx</span><span class="p">,</span><span class="n">fy</span><span class="p">,</span><span class="n">fz</span> <span class="o">=</span> <span class="n">_f</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="n">xw</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">yw</span><span class="p">),</span> <span class="n">_f</span><span class="p">(</span><span class="n">z</span><span class="o">/</span><span class="n">zw</span><span class="p">)</span>
        <span class="n">l</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">116</span><span class="o">*</span><span class="n">fy</span> <span class="o">-</span> <span class="mi">16</span>
        <span class="n">a</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">500</span> <span class="o">*</span> <span class="p">(</span><span class="n">fx</span><span class="o">-</span><span class="n">fy</span><span class="p">)</span>
        <span class="n">b</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">200</span> <span class="o">*</span> <span class="p">(</span><span class="n">fy</span><span class="o">-</span><span class="n">fz</span><span class="p">)</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;L*a*b*&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">new_color</span><span class="o">.</span><span class="n">_check_color_value</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.lab_to_xyz"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.lab_to_xyz">[docs]</a>    <span class="k">def</span> <span class="nf">lab_to_xyz</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;L*a*b* -&gt; XYZ</span>

<span class="sd">         Note:</span>
<span class="sd">            The XYZ and RGB color systems basically use the D65 standard light source as the white point,</span>
<span class="sd">            but the L*a*b* color system uses the D50.</span>
<span class="sd">            In order to adjust for this difference, Bradford transformation is used.</span>

<span class="sd">            The value range of (l,a,b) is:</span>
<span class="sd">                l: [0.0, 100.0]</span>
<span class="sd">                a: may take an absolute value greater than 100</span>
<span class="sd">                b: may take an absolute value greater than 100. </span>
<span class="sd">            </span>
<span class="sd">            D65 white point: (x,y,z) = (0.95046, 1.0, 1.08906)</span>
<span class="sd">            D50 white point: (x,y,z) = (0.9642, 1.0, 0.8249).</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color expressed in L*a*b*.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">!=</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;color_system&#39; must be &#39;L*a*b*&#39;&quot;</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">_invf</span><span class="p">(</span><span class="n">u</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">u</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="o">/</span><span class="mi">29</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">u</span> <span class="o">**</span> <span class="mi">3</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">29</span><span class="p">)</span><span class="o">**</span><span class="mi">3</span> <span class="o">*</span> <span class="p">(</span><span class="mi">116</span><span class="o">*</span><span class="n">u</span> <span class="o">-</span> <span class="mi">16</span><span class="p">)</span>
        <span class="n">xw</span><span class="p">,</span><span class="n">yw</span><span class="p">,</span><span class="n">zw</span> <span class="o">=</span> <span class="mf">0.9642</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.8249</span> <span class="c1"># D50 white point</span>
        <span class="n">l</span><span class="p">,</span><span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_color</span>
        <span class="n">fy</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">l</span><span class="o">+</span><span class="mi">16</span><span class="p">)</span> <span class="o">/</span> <span class="mi">116</span>
        <span class="n">fx</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">fy</span> <span class="o">+</span> <span class="n">a</span><span class="o">/</span><span class="mi">500</span>
        <span class="n">fz</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">fy</span> <span class="o">-</span> <span class="n">b</span><span class="o">/</span><span class="mi">200</span>
        <span class="n">x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">_invf</span><span class="p">(</span><span class="n">fx</span><span class="p">)</span> <span class="o">*</span> <span class="n">xw</span>
        <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">_invf</span><span class="p">(</span><span class="n">fy</span><span class="p">)</span> <span class="o">*</span> <span class="n">yw</span>
        <span class="n">z</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">_invf</span><span class="p">(</span><span class="n">fz</span><span class="p">)</span> <span class="o">*</span> <span class="n">zw</span>
        <span class="n">color</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_d50_to_d65</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span> <span class="c1"># inverse Bradford transformation</span>
        <span class="n">new_color</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;XYZ&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="c1"># new_color._check_color_value()</span>
        <span class="k">return</span> <span class="n">new_color</span></div>

<div class="viewcode-block" id="Color.to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_rgb">[docs]</a>    <span class="k">def</span> <span class="nf">to_rgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsv_to_rgb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HLS&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hls_to_rgb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">yiq_to_rgb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">srgb_to_rgb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">adobergb_to_rgb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lab_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
            <span class="k">return</span></div>
    
<div class="viewcode-block" id="Color.to_hsv"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_hsv">[docs]</a>    <span class="k">def</span> <span class="nf">to_hsv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_to_hsv</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HLS&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hls_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hsv</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">yiq_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hsv</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">srgb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hsv</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">adobergb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hsv</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hsv</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lab_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hsv</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
            <span class="k">return</span></div>
    
<div class="viewcode-block" id="Color.to_hls"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_hls">[docs]</a>    <span class="k">def</span> <span class="nf">to_hls</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsv_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HLS&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">yiq_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">srgb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">adobergb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lab_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_hls</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="Color.to_yiq"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_yiq">[docs]</a>    <span class="k">def</span> <span class="nf">to_yiq</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_to_yiq</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsv_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_yiq</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HLS&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hls_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_yiq</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">srgb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_yiq</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">adobergb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_yiq</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_yiq</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lab_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_yiq</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
            <span class="k">return</span></div>
    
<div class="viewcode-block" id="Color.to_xyz"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_xyz">[docs]</a>    <span class="k">def</span> <span class="nf">to_xyz</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsv_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HLS&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hls_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">yiq_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">srgb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">adobergb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lab_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
            <span class="k">return</span></div>
    
<div class="viewcode-block" id="Color.to_lab"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_lab">[docs]</a>    <span class="k">def</span> <span class="nf">to_lab</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_lab</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hsv_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_lab</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HLS&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">hls_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_lab</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">yiq_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_lab</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">srgb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_lab</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">adobergb_to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">xyz_to_lab</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">xyz_to_lab</span><span class="p">()</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__deepcopy__</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
            <span class="k">return</span></div>
    
<div class="viewcode-block" id="Color.to_srgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_srgb">[docs]</a>    <span class="k">def</span> <span class="nf">to_srgb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_srgb</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Color.to_adobergb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_adobergb">[docs]</a>    <span class="k">def</span> <span class="nf">to_adobergb</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_adobergb</span><span class="p">()</span></div>

<div class="viewcode-block" id="Color.to_other_system"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_other_system">[docs]</a>    <span class="k">def</span> <span class="nf">to_other_system</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color_system</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Convert the color system.</span>

<span class="sd">        Args:</span>
<span class="sd">            color_system (str): Color system.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: `Color` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HSV&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_hsv</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;HLS&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_hls</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;YIQ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_yiq</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;sRGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_srgb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;Adobe RGB&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_adobergb</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;XYZ&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_xyz</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">color_system</span> <span class="o">==</span> <span class="s2">&quot;L*a*b*&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_lab</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
            <span class="k">return</span></div>

<div class="viewcode-block" id="Color.color_code"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.color_code">[docs]</a>    <span class="k">def</span> <span class="nf">color_code</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Hexadecimal color code</span>

<span class="sd">        Returns:</span>
<span class="sd">            (str): Color code in hexadecimal notation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;#</span><span class="si">{</span><span class="nb">round</span><span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="mi">255</span><span class="p">)</span><span class="si">:</span><span class="s2">02x</span><span class="si">}{</span><span class="nb">round</span><span class="p">(</span><span class="n">g</span><span class="o">*</span><span class="mi">255</span><span class="p">)</span><span class="si">:</span><span class="s2">02x</span><span class="si">}{</span><span class="nb">round</span><span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="mi">255</span><span class="p">)</span><span class="si">:</span><span class="s2">02x</span><span class="si">}</span><span class="s2">&quot;</span></div>

<div class="viewcode-block" id="Color.to_rgba"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_rgba">[docs]</a>    <span class="k">def</span> <span class="nf">to_rgba</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">alpha</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Hexadecimal color code</span>

<span class="sd">        Returns:</span>
<span class="sd">            (tuple[float, float, float, float]): (r,g,b,a)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span>
        <span class="n">a</span><span class="p">:</span> <span class="nb">float</span>
        <span class="k">if</span> <span class="n">alpha</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">alpha</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span></div>

<div class="viewcode-block" id="Color.projection"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.projection">[docs]</a>    <span class="k">def</span> <span class="nf">projection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_color</span><span class="p">:</span> <span class="n">Color</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Project the color onto the other color like a mathematical 3D vector.</span>

<span class="sd">        Args:</span>
<span class="sd">            other_color (Color): Target of color projection.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Projected color. Note that `color_system` of the returned color is always &#39;RGB&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">u</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span><span class="p">)</span>
        <span class="n">v</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">other_color</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="p">(</span><span class="n">u</span> <span class="o">@</span> <span class="n">v</span><span class="p">)</span> <span class="o">*</span> <span class="n">v</span> <span class="o">/</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># orthographic projection</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">b</span><span class="p">),</span> <span class="nb">float</span><span class="p">(</span><span class="n">c</span><span class="p">)),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">,</span>
        <span class="p">)</span></div>
    
<div class="viewcode-block" id="Color.to_grayscale"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.to_grayscale">[docs]</a>    <span class="k">def</span> <span class="nf">to_grayscale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the grayscaled color. </span>
<span class="sd">            The return type is `str` to conform to the specifications of `matplotlib`.</span>

<span class="sd">        Note:</span>
<span class="sd">            The &#39;Y&#39; value in &#39;CIE XYZ&#39; color system is used to convert the color to grayscale.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (str): String of float value. The value will be in [0.0, 1.0].</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">to_xyz</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span></div>
    
<div class="viewcode-block" id="Color.rgb_256"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.rgb_256">[docs]</a>    <span class="k">def</span> <span class="nf">rgb_256</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;RGB color in 0-255.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color_type: `Color` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="mi">255</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Color.srgb_256"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.srgb_256">[docs]</a>    <span class="k">def</span> <span class="nf">srgb_256</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;sRGB color in 0-255.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color_type: `Color` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">rgb_to_srgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="mi">255</span><span class="p">))</span></div>
    
<div class="viewcode-block" id="Color.color_temperature"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.color_temperature">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">color_temperature</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">T</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Color temperature.</span>

<span class="sd">        Args:</span>
<span class="sd">            T (float): Temperature (K).</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: Color temperature.</span>

<span class="sd">        References:</span>
<span class="sd">            https://en.wikipedia.org/wiki/Planckian_locus</span>
<span class="sd">            http://yamatyuu.net/other/color/cie1931xyzrgb/xyz.html</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">color_temperature_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mf">0.6527</span><span class="p">,</span> <span class="mf">0.3445</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1100</span><span class="p">,</span> <span class="mf">0.6387</span><span class="p">,</span> <span class="mf">0.3565</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1200</span><span class="p">,</span> <span class="mf">0.6250</span><span class="p">,</span> <span class="mf">0.3675</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1300</span><span class="p">,</span> <span class="mf">0.6116</span><span class="p">,</span> <span class="mf">0.3772</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1400</span><span class="p">,</span> <span class="mf">0.5985</span><span class="p">,</span> <span class="mf">0.3858</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1500</span><span class="p">,</span> <span class="mf">0.5857</span><span class="p">,</span> <span class="mf">0.3931</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1600</span><span class="p">,</span> <span class="mf">0.5732</span><span class="p">,</span> <span class="mf">0.3993</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1700</span><span class="p">,</span> <span class="mf">0.5611</span><span class="p">,</span> <span class="mf">0.4043</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1800</span><span class="p">,</span> <span class="mf">0.5492</span><span class="p">,</span> <span class="mf">0.4082</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">1900</span><span class="p">,</span> <span class="mf">0.5378</span><span class="p">,</span> <span class="mf">0.4112</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mf">0.5267</span><span class="p">,</span> <span class="mf">0.4133</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="mf">0.4369</span><span class="p">,</span> <span class="mf">0.4041</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">4000</span><span class="p">,</span> <span class="mf">0.3804</span><span class="p">,</span> <span class="mf">0.3768</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="mf">0.3451</span><span class="p">,</span> <span class="mf">0.3516</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">6000</span><span class="p">,</span> <span class="mf">0.3221</span><span class="p">,</span> <span class="mf">0.3318</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">7000</span><span class="p">,</span> <span class="mf">0.3064</span><span class="p">,</span> <span class="mf">0.3166</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">8000</span><span class="p">,</span> <span class="mf">0.2952</span><span class="p">,</span> <span class="mf">0.3048</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">9000</span><span class="p">,</span> <span class="mf">0.2869</span><span class="p">,</span> <span class="mf">0.2956</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">10000</span><span class="p">,</span> <span class="mf">0.2807</span><span class="p">,</span> <span class="mf">0.2884</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">20000</span><span class="p">,</span> <span class="mf">0.2565</span><span class="p">,</span> <span class="mf">0.2577</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">30000</span><span class="p">,</span> <span class="mf">0.2501</span><span class="p">,</span> <span class="mf">0.2489</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">40000</span><span class="p">,</span> <span class="mf">0.2472</span><span class="p">,</span> <span class="mf">0.2448</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">50000</span><span class="p">,</span> <span class="mf">0.2456</span><span class="p">,</span> <span class="mf">0.2425</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">60000</span><span class="p">,</span> <span class="mf">0.2446</span><span class="p">,</span> <span class="mf">0.2410</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">70000</span><span class="p">,</span> <span class="mf">0.2439</span><span class="p">,</span> <span class="mf">0.2400</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">80000</span><span class="p">,</span> <span class="mf">0.2433</span><span class="p">,</span> <span class="mf">0.2392</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">90000</span><span class="p">,</span> <span class="mf">0.2429</span><span class="p">,</span> <span class="mf">0.2386</span><span class="p">),</span>
            <span class="p">(</span><span class="mi">100000</span><span class="p">,</span> <span class="mf">0.2426</span><span class="p">,</span> <span class="mf">0.2381</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">def</span> <span class="nf">_interp</span><span class="p">(</span><span class="n">target</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">color_temperature_list</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
                <span class="n">t1</span><span class="p">,</span> <span class="n">x1</span><span class="p">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="n">color_temperature_list</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">t2</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">color_temperature_list</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">t1</span> <span class="o">&lt;=</span> <span class="n">target</span> <span class="o">&lt;=</span> <span class="n">t2</span><span class="p">:</span>
                    <span class="n">x_target</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">x1</span> <span class="o">+</span> <span class="p">(</span><span class="n">target</span><span class="o">-</span><span class="n">t1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">x2</span><span class="o">-</span><span class="n">x1</span><span class="p">)</span>
                    <span class="n">y_target</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">y1</span> <span class="o">+</span> <span class="p">(</span><span class="n">target</span><span class="o">-</span><span class="n">t1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">y2</span><span class="o">-</span><span class="n">y1</span><span class="p">)</span>
                    <span class="k">return</span> <span class="p">(</span><span class="n">x_target</span><span class="p">,</span> <span class="n">y_target</span><span class="p">)</span>
            <span class="k">raise</span> <span class="ne">ValueError</span> 
        
        <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
        <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>

        <span class="k">if</span> <span class="mi">1667</span> <span class="o">&lt;=</span> <span class="n">T</span> <span class="o">&lt;=</span> <span class="mi">4000</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.2661239e9</span><span class="o">/</span><span class="n">T</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mf">0.2343589e6</span><span class="o">/</span><span class="n">T</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">0.8776956e3</span><span class="o">/</span><span class="n">T</span> <span class="o">+</span> <span class="mf">0.179910</span>
        <span class="k">elif</span> <span class="mi">4000</span> <span class="o">&lt;</span> <span class="n">T</span> <span class="o">&lt;=</span> <span class="mi">25000</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mf">3.0258469e9</span><span class="o">/</span><span class="n">T</span><span class="o">**</span><span class="mi">3</span> <span class="o">+</span> <span class="mf">2.1070379e6</span><span class="o">/</span><span class="n">T</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">0.2226347e3</span><span class="o">/</span><span class="n">T</span> <span class="o">+</span> <span class="mf">0.240390</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">_interp</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>

        <span class="k">if</span> <span class="mi">1667</span> <span class="o">&lt;=</span> <span class="n">T</span> <span class="o">&lt;=</span> <span class="mi">2222</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.1063814</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mf">1.34811020</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">2.18555832</span> <span class="o">*</span> <span class="n">x</span> <span class="o">-</span> <span class="mf">0.20219683</span>
        <span class="k">elif</span> <span class="mi">2222</span> <span class="o">&lt;</span> <span class="n">T</span> <span class="o">&lt;=</span> <span class="mi">4000</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.9549476</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mf">1.37418593</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">2.09137015</span> <span class="o">*</span> <span class="n">x</span> <span class="o">-</span> <span class="mf">0.16748867</span>
        <span class="k">elif</span> <span class="mi">4000</span> <span class="o">&lt;</span> <span class="n">T</span> <span class="o">&lt;=</span> <span class="mi">25000</span><span class="p">:</span>
            <span class="n">y</span> <span class="o">=</span> <span class="mf">3.0817580</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span> <span class="o">-</span> <span class="mf">5.87338670</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">3.75112997</span> <span class="o">*</span> <span class="n">x</span> <span class="o">-</span> <span class="mf">0.37001483</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">_interp</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>

        <span class="n">z</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span>
        <span class="k">return</span> <span class="n">Color</span><span class="p">(</span>
            <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="s2">&quot;XYZ&quot;</span>
        <span class="p">)</span></div>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">D65</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;D65 white point.</span>

<span class="sd">        TODO:</span>
<span class="sd">            This should be a class property in Python 3.9.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_temperature</span><span class="p">(</span><span class="mi">6500</span> <span class="o">*</span> <span class="mf">1.4388</span> <span class="o">/</span> <span class="mf">1.438</span><span class="p">)</span>
    
    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">D50</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;D50 white point.</span>

<span class="sd">        TODO:</span>
<span class="sd">            This should be a class property in Python 3.9.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_temperature</span><span class="p">(</span><span class="mi">5000</span> <span class="o">*</span> <span class="mf">1.4388</span> <span class="o">/</span> <span class="mf">1.438</span><span class="p">)</span>

<div class="viewcode-block" id="Color.from_color_code"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.from_color_code">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_color_code</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Construct a `Color` instance from color code.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): Color code written in &#39;#xxxxxx&#39; format.</span>
<span class="sd">                For example, &#39;#FFFFFF&#39; is white.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: `Color` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;0x</span><span class="si">{</span><span class="n">code</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span>
        <span class="n">g</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;0x</span><span class="si">{</span><span class="n">code</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span>
        <span class="n">b</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;0x</span><span class="si">{</span><span class="n">code</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">7</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span><span class="o">/</span><span class="mi">255</span>
        <span class="k">return</span> <span class="n">Color</span><span class="p">((</span><span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span><span class="p">),</span> <span class="s2">&quot;RGB&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Color.starlight"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.starlight">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">starlight</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Starlight colors.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list[Color]: List of `Color`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fb5458&quot;</span><span class="p">),</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#6292e9&quot;</span><span class="p">),</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#62bd93&quot;</span><span class="p">),</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fe9952&quot;</span><span class="p">),</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#cbc6cc&quot;</span><span class="p">),</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#95caee&quot;</span><span class="p">),</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fdd162&quot;</span><span class="p">),</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#8c67aa&quot;</span><span class="p">),</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#e08696&quot;</span><span class="p">),</span>
        <span class="p">]</span></div>
    
<div class="viewcode-block" id="Color.from_name"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.from_name">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Construct a `Color` instance from color name.</span>

<span class="sd">        Args:</span>
<span class="sd">            name (str): Name of color. See `matplotlib.colors`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Color: `Color` instance.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="n">mcolors</span><span class="o">.</span><span class="n">CSS4_COLORS</span><span class="p">[</span><span class="n">name</span><span class="p">])</span></div>

<div class="viewcode-block" id="Color.change_hue_hsv"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.change_hue_hsv">[docs]</a>    <span class="k">def</span> <span class="nf">change_hue_hsv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hue</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="n">new</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_hsv</span><span class="p">()</span>
        <span class="n">new</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="p">(</span><span class="n">hue</span><span class="p">,</span> <span class="n">new</span><span class="o">.</span><span class="n">_color</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">new</span><span class="o">.</span><span class="n">_color</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">new</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Color.change_saturation_hsv"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.change_saturation_hsv">[docs]</a>    <span class="k">def</span> <span class="nf">change_saturation_hsv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">saturation</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="n">new</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_hsv</span><span class="p">()</span>
        <span class="n">new</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="p">(</span><span class="n">new</span><span class="o">.</span><span class="n">_color</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">saturation</span><span class="p">,</span> <span class="n">new</span><span class="o">.</span><span class="n">_color</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">new</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Color.change_value_hsv"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.change_value_hsv">[docs]</a>    <span class="k">def</span> <span class="nf">change_value_hsv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="n">new</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_hsv</span><span class="p">()</span>
        <span class="n">new</span><span class="o">.</span><span class="n">_color</span> <span class="o">=</span> <span class="p">(</span><span class="n">new</span><span class="o">.</span><span class="n">_color</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">new</span><span class="o">.</span><span class="n">_color</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">value</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_system</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Color.rotate_hsv"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Color.rotate_hsv">[docs]</a>    <span class="k">def</span> <span class="nf">rotate_hsv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">degree</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="n">h</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_hsv</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">change_hue_hsv</span><span class="p">((</span><span class="n">h</span> <span class="o">+</span> <span class="n">degree</span><span class="o">/</span><span class="mi">360</span><span class="p">)</span> <span class="o">%</span> <span class="mf">1.0</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="Gradation"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation">[docs]</a><span class="k">class</span> <span class="nc">Gradation</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Color gradation</span>

<span class="sd">    Attributes:</span>
<span class="sd">        start (Color): Start color of the gradation.</span>
<span class="sd">        end (Color): End color of the gradation.</span>
<span class="sd">        middle (Color | None): Middle color of the gradation. Defaults to None.</span>

<span class="sd">    Examples:</span>
<span class="sd">        &gt;&gt;&gt; ### you can use this class as &#39;matplotlib.cm&#39; objects.</span>
<span class="sd">        &gt;&gt;&gt; import matplotlib.pyplot as plt</span>
<span class="sd">        &gt;&gt;&gt; import matplotlib.cm as cm</span>
<span class="sd">        &gt;&gt;&gt; import numpy as np</span>

<span class="sd">        &gt;&gt;&gt; R = Color(RED_RGB, RGB)</span>
<span class="sd">        &gt;&gt;&gt; B = Color(BLUE_RGB, RGB)</span>
<span class="sd">        &gt;&gt;&gt; Gr = Gradation(R,B)</span>

<span class="sd">        &gt;&gt;&gt; x = np.linspace(0,2*np.pi,100)</span>
<span class="sd">        &gt;&gt;&gt; for i in range(30):</span>
<span class="sd">        &gt;&gt;&gt;     # plt.plot(x,i*np.sin(x), color=cm.hsv(i/30.0))</span>
<span class="sd">        &gt;&gt;&gt;     plt.plot(x,i*np.sin(x), color=Gr.gradation_linear(i/30).to_rgba())</span>
<span class="sd">        &gt;&gt;&gt; plt.xlim(0,2*np.pi)</span>
<span class="sd">        &gt;&gt;&gt; plt.show()</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
                <span class="n">end</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
                <span class="n">middle</span><span class="p">:</span> <span class="n">Color</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                <span class="n">num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
                <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
                <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">middle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">start</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">!=</span> <span class="n">end</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;start&#39; and &#39;end&#39; must have the same properties&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">start</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">==</span> <span class="n">middle</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">==</span> <span class="n">end</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;start&#39; and &#39;middle&#39; and &#39;end&#39; must have the same properties&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">end</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">middle</span><span class="p">:</span> <span class="n">Color</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">middle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_linear</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                             <span class="n">start</span><span class="p">,</span>
                             <span class="n">end</span><span class="p">,</span>
                             <span class="n">middle</span><span class="o">=</span><span class="n">middle</span><span class="p">,</span>
                             <span class="n">next_color_system</span><span class="o">=</span><span class="n">next_color_system</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="n">next_color_system</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Gradation(</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">)</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">)</span><span class="si">}</span><span class="s2">, middle=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">middle</span><span class="p">)</span><span class="si">}</span><span class="s2">, &quot;</span>\
                <span class="sa">f</span><span class="s2">&quot;num=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">))</span><span class="si">}</span><span class="s2">, next_color_system=</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">next_color_system</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="o">-</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        
    <span class="k">def</span> <span class="fm">__invert__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="o">~</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">all</span><span class="p">([</span><span class="n">c1</span> <span class="o">==</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    
    <span class="k">def</span> <span class="nf">__neq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c</span> <span class="o">+</span> <span class="n">other</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
        
    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c1</span> <span class="o">-</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c</span> <span class="o">-</span> <span class="n">other</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
    
    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c1</span> <span class="o">*</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c</span> <span class="o">*</span> <span class="n">other</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
        
    <span class="k">def</span> <span class="fm">__truediv__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c1</span> <span class="o">/</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c</span> <span class="o">/</span> <span class="n">other</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
        
    <span class="k">def</span> <span class="fm">__matmul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c1</span> <span class="o">@</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c</span> <span class="o">@</span> <span class="n">other</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
    
    <span class="k">def</span> <span class="fm">__and__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c1</span> <span class="o">&amp;</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c</span> <span class="o">&amp;</span> <span class="n">other</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>

    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c1</span> <span class="o">|</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c</span> <span class="o">|</span> <span class="n">other</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
    
    <span class="k">def</span> <span class="fm">__xor__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Gradation</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="p">):</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c1</span> <span class="o">^</span> <span class="n">c2</span> <span class="k">for</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">Color</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">c</span> <span class="o">^</span> <span class="n">other</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span>
        
    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterator</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proportion</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">[</span><span class="nb">int</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">proportion</span><span class="p">)]</span>

<div class="viewcode-block" id="Gradation.from_color_list"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.from_color_list">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_color_list</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">color_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="n">new</span><span class="p">:</span> <span class="n">Gradation</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="n">color_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(),</span> <span class="n">color_list</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(),</span> <span class="n">num</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">color_list</span><span class="p">),)</span>
        <span class="n">new</span><span class="o">.</span><span class="n">color_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">color_list</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">new</span></div>

<div class="viewcode-block" id="Gradation.rgba_color_list"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.rgba_color_list">[docs]</a>    <span class="k">def</span> <span class="nf">rgba_color_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">]]:</span>
        <span class="n">res</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">float</span><span class="p">]]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">:</span>
            <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">color</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span>
            <span class="n">res</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">res</span></div>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_internal_division</span><span class="p">(</span>
        <span class="n">start</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span>
        <span class="n">end</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span>
        <span class="n">proportion</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
        <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">start</span>
        <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">end</span>
        <span class="n">u</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">a</span><span class="p">)</span> <span class="o">*</span> <span class="n">proportion</span>
        <span class="n">v</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">b</span><span class="p">)</span> <span class="o">*</span> <span class="n">proportion</span>
        <span class="n">w</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="p">(</span><span class="n">z</span><span class="o">-</span><span class="n">c</span><span class="p">)</span> <span class="o">*</span> <span class="n">proportion</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_linear</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">proportion</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
            <span class="n">start</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">end</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">middle</span><span class="p">:</span> <span class="n">Color</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a color gradation linearly in a color space.</span>

<span class="sd">        Note:</span>
<span class="sd">            A gradation can be represented as a curve in a color space.</span>
<span class="sd">            Straight geodesic lines are used as the gradation curves in this method,</span>
<span class="sd">            assuming that the color space is considered as a real 3D Euclidean space.</span>

<span class="sd">        Args:</span>
<span class="sd">            proportion (float): Floating point number in [0.0, 1.0].</span>
<span class="sd">                proportion = 0.0 -&gt; start color, proportion = 1.0 -&gt; end color.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color corresponding the number &#39;proportion&#39; in the gradation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mf">0.0</span> <span class="o">&lt;=</span> <span class="n">proportion</span> <span class="o">&lt;=</span> <span class="mf">1.0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;proportion&#39; must be in [0.0, 1.0]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">middle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">start</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">!=</span> <span class="n">end</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;start&#39; and &#39;end&#39; must have the same properties&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">start</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">==</span> <span class="n">middle</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">==</span> <span class="n">end</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;start&#39; and &#39;middle&#39; and &#39;end&#39; must have the same properties&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">next_color_system</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">next_color_system</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">color_system</span>
        <span class="n">color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">color_system</span>
        <span class="k">if</span> <span class="n">middle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_internal_division</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">proportion</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">proportion</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
                <span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_internal_division</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">proportion</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_internal_division</span><span class="p">(</span><span class="n">middle</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">proportion</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="n">color_system</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="n">next_color_system</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">_chart_goal</span><span class="p">(</span>
        <span class="n">start</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span>
        <span class="n">end</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span>
        <span class="n">proportion</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">order</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">],</span>
        <span class="n">full_dist</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
        <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="n">k</span> <span class="o">=</span> <span class="n">order</span>
        <span class="n">res</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">]</span>
        <span class="n">di</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">end</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">start</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">dj</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">end</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
        <span class="n">dk</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">end</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">-</span> <span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">proportion</span> <span class="o">&lt;</span> <span class="nb">abs</span><span class="p">(</span><span class="n">di</span><span class="p">)</span> <span class="o">/</span> <span class="n">full_dist</span><span class="p">:</span>
            <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">di</span> <span class="o">*</span> <span class="n">proportion</span>
            <span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">res</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">proportion</span> <span class="o">&lt;</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">di</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">dj</span><span class="p">))</span> <span class="o">/</span> <span class="n">full_dist</span><span class="p">:</span>
            <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">end</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="n">dj</span> <span class="o">*</span> <span class="p">(</span><span class="n">proportion</span> <span class="o">-</span> <span class="nb">abs</span><span class="p">(</span><span class="n">di</span><span class="p">)</span><span class="o">/</span><span class="n">full_dist</span><span class="p">)</span>
            <span class="n">res</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">end</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
            <span class="n">res</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">dk</span> <span class="o">*</span> <span class="p">(</span><span class="n">proportion</span> <span class="o">-</span> <span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">di</span><span class="p">)</span><span class="o">+</span><span class="nb">abs</span><span class="p">(</span><span class="n">dj</span><span class="p">))</span><span class="o">/</span><span class="n">full_dist</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
    
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_chart</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">proportion</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
            <span class="n">start</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">end</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">middle</span><span class="p">:</span> <span class="n">Color</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">order</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
            <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a color gradation like a chart line in a color space.</span>

<span class="sd">        Note:</span>
<span class="sd">            A gradation can be represented as a curve in a color space.</span>
<span class="sd">            Chart lines along with each color axis are used as the gradation curves in this method,</span>
<span class="sd">            assuming that the color space is considered as a real 3D Euclidean space.</span>

<span class="sd">        Args:</span>
<span class="sd">            proportion (float): Floating point number in [0.0, 1.0].</span>
<span class="sd">                proportion = 0.0 -&gt; start color, proportion = 1.0 -&gt; end color.</span>
<span class="sd">            order (tuple[int, int, int]): Priority of color axes in selecting the direction of chart.</span>
<span class="sd">                Defaults to (0,1,2). In RGB color space, the chart heads &quot;R&quot; direction at first, </span>
<span class="sd">                &quot;G&quot; direction at second and &quot;B&quot; direction at last if `order = (0,1,2)`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color corresponding the number &#39;proportion&#39; in the gradation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mf">0.0</span> <span class="o">&lt;=</span> <span class="n">proportion</span> <span class="o">&lt;=</span> <span class="mf">1.0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;proportion&#39; must be in [0.0, 1.0]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">middle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">start</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">!=</span> <span class="n">end</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;start&#39; and &#39;end&#39; must have the same properties&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">start</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">==</span> <span class="n">middle</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">==</span> <span class="n">end</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;start&#39; and &#39;middle&#39; and &#39;end&#39; must have the same properties&quot;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">next_color_system</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">next_color_system</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">color_system</span>
        <span class="n">color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">color_system</span>
        <span class="n">res</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
        <span class="n">full_dist</span><span class="p">:</span> <span class="nb">float</span>
        <span class="k">if</span> <span class="n">middle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">start</span>
            <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">end</span>
            <span class="n">full_dist</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="n">z</span><span class="p">)</span>
            <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_chart_goal</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">proportion</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">full_dist</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">start</span>
            <span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">,</span><span class="n">r</span> <span class="o">=</span> <span class="n">middle</span>
            <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">end</span>
            <span class="n">full_dist</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">p</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">q</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="n">r</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">p</span><span class="o">-</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">q</span><span class="o">-</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">r</span><span class="o">-</span><span class="n">z</span><span class="p">)</span>
            <span class="n">mid_dist</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">a</span><span class="o">-</span><span class="n">p</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">q</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">c</span><span class="o">-</span><span class="n">r</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">proportion</span> <span class="o">&lt;</span> <span class="n">mid_dist</span> <span class="o">/</span> <span class="n">full_dist</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_chart_goal</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">middle</span><span class="p">,</span> <span class="n">proportion</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">full_dist</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">res</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_chart_goal</span><span class="p">(</span><span class="n">middle</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">proportion</span><span class="o">-</span><span class="n">mid_dist</span> <span class="o">/</span> <span class="n">full_dist</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">full_dist</span><span class="p">)</span>
            
        <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">res</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">res</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="n">color_system</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="n">next_color_system</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_get_helical</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">proportion</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
            <span class="n">start</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">end</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">middle</span><span class="p">:</span> <span class="n">Color</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">clockwise</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
            <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a color gradation helically in a color space.</span>
<span class="sd">        This method is mainly used for HSV or HLS.</span>

<span class="sd">        Note:</span>
<span class="sd">            A gradation can be represented by a curve in a color space.</span>
<span class="sd">            Helical curves are used as the gradation curves in this method,</span>
<span class="sd">            assuming that a cylindrical coordinates system is defined in the color space.</span>
<span class="sd">            </span>
<span class="sd">            proportion = 0.0 -&gt; start color, proportion = 1.0 -&gt; end color.</span>

<span class="sd">        Args:</span>
<span class="sd">            proportion (float): Floating point number in [0.0, 1.0].</span>
<span class="sd">            start (Color): Start color.</span>
<span class="sd">            end (Color): End color.</span>
<span class="sd">            middle (Color, optional): Middle color. Defaults to None.</span>
<span class="sd">            clockwise (bool, optional): If True, direction of spiral winding is clockwise. Defaults to True.</span>
<span class="sd">            next_color_system (str, optional): Color system of return value. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Color): Color corresponding the number &#39;proportion&#39; in the gradation.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="mf">0.0</span> <span class="o">&lt;=</span> <span class="n">proportion</span> <span class="o">&lt;=</span> <span class="mf">1.0</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;proportion&#39; must be in [0.0, 1.0]&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">middle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">start</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">!=</span> <span class="n">end</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">():</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;start&#39; and &#39;end&#39; must have the same properties&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">start</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">==</span> <span class="n">middle</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()</span> <span class="o">==</span> <span class="n">end</span><span class="o">.</span><span class="n">get_base_info</span><span class="p">()):</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;start&#39; and &#39;middle&#39; and &#39;end&#39; must have the same properties&quot;</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">next_color_system</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">next_color_system</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">color_system</span>
        <span class="n">color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">color_system</span>
        <span class="k">if</span> <span class="n">middle</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">start</span>
            <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">end</span>
            <span class="k">if</span> <span class="n">clockwise</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">+=</span> <span class="mf">1.0</span>
            <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">clockwise</span><span class="p">)</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">-=</span> <span class="mf">1.0</span>
            <span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_internal_division</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">),</span> <span class="n">proportion</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span> <span class="o">=</span> <span class="n">start</span>
            <span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">,</span><span class="n">r</span> <span class="o">=</span> <span class="n">middle</span>
            <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span> <span class="o">=</span> <span class="n">end</span>
            <span class="k">if</span> <span class="n">proportion</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">clockwise</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">p</span><span class="p">:</span>
                    <span class="n">p</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">clockwise</span><span class="p">)</span> <span class="ow">and</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="n">p</span><span class="p">:</span>
                    <span class="n">p</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_internal_division</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">),</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">,</span><span class="n">r</span><span class="p">),</span> <span class="n">proportion</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">clockwise</span> <span class="ow">and</span> <span class="n">p</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">:</span>
                    <span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="n">clockwise</span><span class="p">)</span> <span class="ow">and</span> <span class="n">p</span> <span class="o">&lt;</span> <span class="n">x</span><span class="p">:</span>
                    <span class="n">x</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">,</span><span class="n">w</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_internal_division</span><span class="p">((</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">,</span><span class="n">r</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">),</span> <span class="n">proportion</span><span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Color</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="n">u</span><span class="o">%</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">w</span><span class="p">),</span>
            <span class="n">color_system</span><span class="o">=</span><span class="n">color_system</span><span class="p">,</span>
        <span class="p">)</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="n">next_color_system</span><span class="p">)</span>
    
<div class="viewcode-block" id="Gradation.convert_to_helical"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.convert_to_helical">[docs]</a>    <span class="k">def</span> <span class="nf">convert_to_helical</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
            <span class="n">clockwise</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
            <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a list of color gradation helically in a color space.</span>
<span class="sd">        This method is mainly used for HSV or HLS.</span>

<span class="sd">        Note:</span>
<span class="sd">            A gradation can be represented by a curve in a color space.</span>
<span class="sd">            Helical curves are used as the gradation curves in this method,</span>
<span class="sd">            assuming that a cylindrical coordinates system is defined in the color space.</span>

<span class="sd">        Args:</span>
<span class="sd">            num (int): Length of the return list.</span>
<span class="sd">            clockwise (bool): If True, direction of spiral winding is clockwise. Defaults to True.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_helical</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">,</span>
                             <span class="n">middle</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">middle</span><span class="p">,</span>
                             <span class="n">clockwise</span><span class="o">=</span><span class="n">clockwise</span><span class="p">,</span>
                             <span class="n">next_color_system</span><span class="o">=</span><span class="n">next_color_system</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="Gradation.convert_to_chart"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.convert_to_chart">[docs]</a>    <span class="k">def</span> <span class="nf">convert_to_chart</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="n">num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
            <span class="n">order</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
            <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a list of color gradation like a chart in a color space.</span>

<span class="sd">        Note:</span>
<span class="sd">            A gradation can be represented as a curve in a color space.</span>
<span class="sd">            Chart lines along with each color axis are used as the gradation curves in this method,</span>
<span class="sd">            assuming that the color space is considered as a real 3D Euclidean space.</span>

<span class="sd">        Args:</span>
<span class="sd">            num (int): Length of the return list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Gradation): Gradation object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_get_chart</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">end</span><span class="p">,</span>
                             <span class="n">middle</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">middle</span><span class="p">,</span>
                             <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
                             <span class="n">next_color_system</span><span class="o">=</span><span class="n">next_color_system</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="Gradation.gradation_linear_list"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.gradation_linear_list">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">gradation_linear_list</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">start</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">end</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">middle</span><span class="p">:</span> <span class="n">Color</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
            <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a list of color gradation linearly in a color space.</span>

<span class="sd">        Note:</span>
<span class="sd">            A gradation can be represented as a curve in a color space.</span>
<span class="sd">            Straight geodesic lines are used as the gradation curves in this method,</span>
<span class="sd">            assuming that the color space is considered as a real 3D Euclidean space.</span>

<span class="sd">        Args:</span>
<span class="sd">            num (int): Length of the return list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Gradation): Gradation object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">color_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_get_linear</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                             <span class="n">start</span><span class="p">,</span>
                             <span class="n">end</span><span class="p">,</span>
                             <span class="n">middle</span><span class="o">=</span><span class="n">middle</span><span class="p">,</span>
                             <span class="n">next_color_system</span><span class="o">=</span><span class="n">next_color_system</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">(</span><span class="n">color_list</span><span class="p">)</span></div>

<div class="viewcode-block" id="Gradation.gradation_chart_list"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.gradation_chart_list">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">gradation_chart_list</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">start</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">end</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">middle</span><span class="p">:</span> <span class="n">Color</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
            <span class="n">order</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
            <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a list of color gradation like a chart in a color space.</span>

<span class="sd">        Note:</span>
<span class="sd">            A gradation can be represented as a curve in a color space.</span>
<span class="sd">            Chart lines along with each color axis are used as the gradation curves in this method,</span>
<span class="sd">            assuming that the color space is considered as a real 3D Euclidean space.</span>

<span class="sd">        Args:</span>
<span class="sd">            num (int): Length of the return list.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Gradation): Gradation object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">color_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_get_chart</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                             <span class="n">start</span><span class="p">,</span>
                             <span class="n">end</span><span class="p">,</span>
                             <span class="n">middle</span><span class="o">=</span><span class="n">middle</span><span class="p">,</span>
                             <span class="n">order</span><span class="o">=</span><span class="n">order</span><span class="p">,</span>
                             <span class="n">next_color_system</span><span class="o">=</span><span class="n">next_color_system</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">(</span><span class="n">color_list</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Gradation.gradation_helical_list"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.gradation_helical_list">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">gradation_helical_list</span><span class="p">(</span>
            <span class="bp">cls</span><span class="p">,</span>
            <span class="n">start</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">end</span><span class="p">:</span> <span class="n">Color</span><span class="p">,</span>
            <span class="n">middle</span><span class="p">:</span> <span class="n">Color</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
            <span class="n">num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
            <span class="n">clockwise</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
            <span class="n">next_color_system</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Make a list of color gradation helically in a color space.</span>
<span class="sd">        This method is mainly used for HSV or HLS.</span>

<span class="sd">        Note:</span>
<span class="sd">            A gradation can be represented by a curve in a color space.</span>
<span class="sd">            Helical curves are used as the gradation curves in this method,</span>
<span class="sd">            assuming that a cylindrical coordinates system is defined in the color space.</span>

<span class="sd">        Args:</span>
<span class="sd">            num (int): Length of the return list.</span>
<span class="sd">            clockwise (bool): If True, direction of spiral winding is clockwise. Defaults to True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            (Gradation): Gradation object.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">color_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="bp">cls</span><span class="o">.</span><span class="n">_get_helical</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">num</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span>
                             <span class="n">start</span><span class="p">,</span>
                             <span class="n">end</span><span class="p">,</span>
                             <span class="n">middle</span><span class="o">=</span><span class="n">middle</span><span class="p">,</span>
                             <span class="n">clockwise</span><span class="o">=</span><span class="n">clockwise</span><span class="p">,</span>
                             <span class="n">next_color_system</span><span class="o">=</span><span class="n">next_color_system</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">(</span><span class="n">color_list</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Gradation.visualize_gradation"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.visualize_gradation">[docs]</a>    <span class="k">def</span> <span class="nf">visualize_gradation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rgb_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">x</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span>
        <span class="n">fig</span><span class="p">:</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="n">ax</span><span class="p">:</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
        <span class="n">cdict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;red&quot;</span><span class="p">:[],</span> <span class="s2">&quot;green&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;blue&quot;</span><span class="p">:</span> <span class="p">[]}</span>
        <span class="n">N</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">):</span>
            <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="n">rgb_type</span><span class="p">)</span>
            <span class="n">cdict</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">r</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
            <span class="n">cdict</span><span class="p">[</span><span class="s2">&quot;green&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="p">))</span>
            <span class="n">cdict</span><span class="p">[</span><span class="s2">&quot;blue&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
        <span class="n">cmap</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">LinearSegmentedColormap</span><span class="p">(</span><span class="s2">&quot;custom&quot;</span><span class="p">,</span> <span class="n">cdict</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>
    
<div class="viewcode-block" id="Gradation.compare_gradations"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.compare_gradations">[docs]</a>    <span class="k">def</span> <span class="nf">compare_gradations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gradation_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Gradation</span><span class="p">],</span> <span class="n">rgb_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">x</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">256</span><span class="p">)</span>
        <span class="n">fig</span><span class="p">:</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
        <span class="n">gradation_list</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">]</span> <span class="o">+</span> <span class="n">gradation_list</span>
        <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">gradation</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gradation_list</span><span class="p">,</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">ax</span><span class="p">:</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">gradation_list</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
            <span class="n">cdict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">]]]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;red&quot;</span><span class="p">:[],</span> <span class="s2">&quot;green&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;blue&quot;</span><span class="p">:</span> <span class="p">[]}</span>
            <span class="n">N</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">gradation</span><span class="o">.</span><span class="n">color_list</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gradation</span><span class="o">.</span><span class="n">color_list</span><span class="p">):</span>
                <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">to_other_system</span><span class="p">(</span><span class="n">rgb_type</span><span class="p">)</span>
                <span class="n">cdict</span><span class="p">[</span><span class="s2">&quot;red&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">r</span><span class="p">,</span> <span class="n">r</span><span class="p">))</span>
                <span class="n">cdict</span><span class="p">[</span><span class="s2">&quot;green&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">g</span><span class="p">,</span> <span class="n">g</span><span class="p">))</span>
                <span class="n">cdict</span><span class="p">[</span><span class="s2">&quot;blue&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">i</span><span class="o">/</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
            <span class="n">cmap</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">LinearSegmentedColormap</span><span class="p">(</span><span class="s2">&quot;custom&quot;</span><span class="p">,</span> <span class="n">cdict</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">aspect</span><span class="o">=</span><span class="s2">&quot;auto&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="Gradation.planckian_curve"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.planckian_curve">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">planckian_curve</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">lowT</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">highT</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">256</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">([</span><span class="n">Color</span><span class="o">.</span><span class="n">color_temperature</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">to_srgb</span><span class="p">()</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">lowT</span><span class="p">,</span><span class="n">highT</span><span class="p">,</span><span class="n">num</span><span class="p">)])</span></div>

<div class="viewcode-block" id="Gradation.equidistant"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.equidistant">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">equidistant</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">num</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
        <span class="k">if</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">10</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ten_colors</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">four_colors</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">7</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">seven_colors</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">num</span> <span class="o">==</span> <span class="mi">8</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">eight_colors</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">gradation_helical_list</span><span class="p">(</span><span class="n">Color</span><span class="p">(</span><span class="n">BLUE_HSV</span><span class="p">,</span><span class="s2">&quot;HSV&quot;</span><span class="p">),</span> <span class="n">Color</span><span class="p">(</span><span class="n">RED_HSV</span><span class="p">,</span><span class="s2">&quot;HSV&quot;</span><span class="p">),</span> <span class="n">num</span><span class="o">=</span><span class="n">num</span><span class="p">,</span> <span class="n">clockwise</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">next_color_system</span><span class="o">=</span><span class="s2">&quot;sRGB&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">color_list</span></div>

<div class="viewcode-block" id="Gradation.ten_colors"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.ten_colors">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">ten_colors</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#000000&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#8c67aa&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#0000ff&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#6292e9&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#95caee&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#62bd93&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#adff2f&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fdd162&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fe9952&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fb5458&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
        <span class="p">]</span></div>
    
<div class="viewcode-block" id="Gradation.four_colors"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.four_colors">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">four_colors</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#8c67aa&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#62bd93&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fdd162&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fb5458&quot;</span><span class="p">),</span>
        <span class="p">]</span></div>
    
<div class="viewcode-block" id="Gradation.seven_colors"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.seven_colors">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">seven_colors</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#8c67aa&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#6292e9&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#62bd93&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#95caee&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fdd162&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fe9952&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fb5458&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#e08696&quot;</span><span class="p">),</span>
        <span class="p">]</span></div>
    
<div class="viewcode-block" id="Gradation.eight_colors"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.eight_colors">[docs]</a>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">eight_colors</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#8c67aa&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#0000ff&quot;</span><span class="p">),</span>
            <span class="c1"># Color.from_color_code(&quot;#6292e9&quot;).change_saturation_hsv(0.8),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#95caee&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.5</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#62bd93&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#adff2f&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fdd162&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fe9952&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
            <span class="n">Color</span><span class="o">.</span><span class="n">from_color_code</span><span class="p">(</span><span class="s2">&quot;#fb5458&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">change_saturation_hsv</span><span class="p">(</span><span class="mf">0.8</span><span class="p">),</span>
        <span class="p">]</span></div>

<div class="viewcode-block" id="Gradation.multi_middle"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.multi_middle">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">multi_middle</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">base_colors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">],</span> <span class="n">approach_mode</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">255</span>
        <span class="n">m</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">base_colors</span><span class="p">)</span>
        <span class="n">color_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">start</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">base_colors</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">end</span><span class="p">:</span> <span class="n">Color</span> <span class="o">=</span> <span class="n">base_colors</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="n">m</span><span class="o">-</span><span class="mi">2</span><span class="p">:</span>
                <span class="n">l</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">i</span><span class="o">*</span><span class="p">(</span><span class="n">n</span><span class="o">//</span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">l</span> <span class="o">=</span> <span class="n">n</span><span class="o">//</span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">approach_mode</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;helical&quot;</span><span class="p">:</span>
                    <span class="n">color_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_get_helical</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="n">l</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>
                <span class="k">elif</span> <span class="n">approach_mode</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;helical-anticlockwise&quot;</span><span class="p">:</span>
                    <span class="n">color_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_get_helical</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="n">l</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">,</span> <span class="n">colockwise</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
                <span class="k">elif</span> <span class="n">approach_mode</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;linear&quot;</span><span class="p">:</span>
                    <span class="n">color_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_get_linear</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="n">l</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>
                <span class="k">elif</span> <span class="n">approach_mode</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;chart&quot;</span><span class="p">:</span>
                    <span class="n">color_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">_get_chart</span><span class="p">(</span><span class="n">j</span><span class="o">/</span><span class="n">l</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_color_list</span><span class="p">(</span><span class="n">color_list</span><span class="p">)</span></div>

<div class="viewcode-block" id="Gradation.planetearth"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.planetearth">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">planetearth</span><span class="p">(</span><span class="bp">cls</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Gradation</span><span class="p">:</span>
        <span class="n">base_colors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">Color</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="p">((</span><span class="mi">26</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="p">((</span><span class="mi">60</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="p">((</span><span class="mi">120</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="p">((</span><span class="mi">167</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mf">0.71</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="p">((</span><span class="mi">240</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.4</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="p">((</span><span class="mi">240</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">),</span>
            <span class="n">Color</span><span class="p">((</span><span class="mi">240</span><span class="o">/</span><span class="mi">360</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="s2">&quot;HSV&quot;</span><span class="p">),</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">multi_middle</span><span class="p">(</span><span class="n">base_colors</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;helical&quot;</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">base_colors</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span></div>

<div class="viewcode-block" id="Gradation.to_matplotlib_colormap"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.Gradation.to_matplotlib_colormap">[docs]</a>    <span class="k">def</span> <span class="nf">to_matplotlib_colormap</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">mcolors</span><span class="o">.</span><span class="n">ListedColormap</span><span class="p">:</span>
        <span class="n">colors</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
            <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">color</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_list</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">mcolors</span><span class="o">.</span><span class="n">ListedColormap</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span></div></div>


    
<div class="viewcode-block" id="plot_colortable"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.plot_colortable">[docs]</a><span class="k">def</span> <span class="nf">plot_colortable</span><span class="p">(</span><span class="n">colors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n">ncols</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="n">sort_colors</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot a table of colors.</span>

<span class="sd">    Args:</span>
<span class="sd">        colors (list[Color]): List of colors.</span>
<span class="sd">        ncols (int, optional): Number of columns. Defaults to 4.</span>
<span class="sd">        sort_colors (bool, optional): If True, the output will be sorted by the hue. Defaults to True.</span>

<span class="sd">    Returns:</span>
<span class="sd">        plt.figure: Figure object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cell_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">212</span>
    <span class="n">cell_height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">22</span>
    <span class="n">swatch_width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">48</span>
    <span class="n">margin</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">12</span>

    <span class="c1"># Sort colors by hue, saturation, value and name.</span>
    <span class="k">if</span> <span class="n">sort_colors</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="n">colors</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="o">.</span><span class="n">to_hsv</span><span class="p">()</span><span class="o">.</span><span class="n">color</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">colors</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>

    <span class="n">n</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
    <span class="n">nrows</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">n</span> <span class="o">/</span> <span class="n">ncols</span><span class="p">)</span>
    <span class="n">width</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">cell_width</span> <span class="o">*</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">margin</span>
    <span class="n">height</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">cell_height</span> <span class="o">*</span> <span class="n">nrows</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">margin</span>
    <span class="n">dpi</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">72</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="n">width</span> <span class="o">/</span> <span class="n">dpi</span><span class="p">,</span> <span class="n">height</span> <span class="o">/</span> <span class="n">dpi</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="n">dpi</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">margin</span><span class="o">/</span><span class="n">width</span><span class="p">,</span> <span class="n">margin</span><span class="o">/</span><span class="n">height</span><span class="p">,</span>
                        <span class="p">(</span><span class="n">width</span><span class="o">-</span><span class="n">margin</span><span class="p">)</span><span class="o">/</span><span class="n">width</span><span class="p">,</span> <span class="p">(</span><span class="n">height</span><span class="o">-</span><span class="n">margin</span><span class="p">)</span><span class="o">/</span><span class="n">height</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">cell_width</span> <span class="o">*</span> <span class="mi">4</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">cell_height</span> <span class="o">*</span> <span class="p">(</span><span class="n">nrows</span><span class="o">-</span><span class="mf">0.5</span><span class="p">),</span> <span class="o">-</span><span class="n">cell_height</span><span class="o">/</span><span class="mf">2.</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">color</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">colors</span><span class="p">):</span>
        <span class="n">row</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="n">nrows</span>
        <span class="n">col</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">i</span> <span class="o">//</span> <span class="n">nrows</span>
        <span class="n">y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">row</span> <span class="o">*</span> <span class="n">cell_height</span>
        <span class="n">swatch_start_x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">cell_width</span> <span class="o">*</span> <span class="n">col</span>
        <span class="n">text_pos_x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">cell_width</span> <span class="o">*</span> <span class="n">col</span> <span class="o">+</span> <span class="n">swatch_width</span> <span class="o">+</span> <span class="mi">7</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">text_pos_x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">.</span><span class="n">color_code</span><span class="p">(),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
                <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">add_patch</span><span class="p">(</span>
            <span class="n">Rectangle</span><span class="p">(</span><span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">swatch_start_x</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="mi">9</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="n">swatch_width</span><span class="p">,</span>
                      <span class="n">height</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">color</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(),</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;0.7&#39;</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">fig</span></div>

<div class="viewcode-block" id="rgb_to_hsv"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.rgb_to_hsv">[docs]</a><span class="k">def</span> <span class="nf">rgb_to_hsv</span><span class="p">(</span><span class="n">rgb</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span> <span class="n">digitization</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">MAX_SV</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;RGB -&gt; HSV</span>

<span class="sd">    Note:</span>
<span class="sd">        The value range of (r,g,b) is:</span>
<span class="sd">            r: [0.0, 1.0]</span>
<span class="sd">            g: [0.0, 1.0]</span>
<span class="sd">            b: [0.0, 1.0]</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">        The value range of (h,s,v) is:</span>
<span class="sd">            h: [0.0, 1.0] (or [0, 360])</span>
<span class="sd">            s: [0.0, 1.0] (or [0, MAX_SV])</span>
<span class="sd">            v: [0.0, 1.0] (or [0, MAX_SV])</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">    Args:</span>
<span class="sd">        rgb (Color_type): (r,g,b).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">rgb</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">/=</span> <span class="mi">255</span>
        <span class="n">g</span> <span class="o">/=</span> <span class="mi">255</span>
        <span class="n">b</span> <span class="o">/=</span> <span class="mi">255</span>
    <span class="n">maxc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">minc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">v</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">maxc</span>
    <span class="k">if</span> <span class="n">maxc</span> <span class="o">==</span> <span class="n">minc</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="o">*</span><span class="n">MAX_SV</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="n">s</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span> <span class="o">/</span> <span class="n">maxc</span>
    <span class="n">rc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">r</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
    <span class="n">gc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">g</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
    <span class="n">bc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
    <span class="n">h</span><span class="p">:</span> <span class="nb">float</span>
    <span class="k">if</span> <span class="n">r</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">bc</span> <span class="o">-</span> <span class="n">gc</span>
    <span class="k">elif</span> <span class="n">g</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="n">rc</span> <span class="o">-</span> <span class="n">bc</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="mf">4.0</span> <span class="o">+</span> <span class="n">gc</span> <span class="o">-</span> <span class="n">rc</span>
    <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="mf">6.0</span><span class="p">)</span> <span class="o">%</span> <span class="mf">1.0</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="o">*</span><span class="mi">360</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="o">*</span><span class="n">MAX_SV</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="o">*</span><span class="n">MAX_SV</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span></div>

<div class="viewcode-block" id="hsv_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.hsv_to_rgb">[docs]</a><span class="k">def</span> <span class="nf">hsv_to_rgb</span><span class="p">(</span><span class="n">hsv</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span> <span class="n">digitization</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">MAX_SV</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HSV -&gt; RGB</span>

<span class="sd">    Note:</span>
<span class="sd">        The value range of (h,s,v) is:</span>
<span class="sd">            h: [0.0, 1.0] (or [0, 360])</span>
<span class="sd">            s: [0.0, 1.0] (or [0, MAX_SV])</span>
<span class="sd">            v: [0.0, 1.0] (or [0, MAX_SV])</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">        The value range of (r,g,b) is:</span>
<span class="sd">            r: [0.0, 1.0]</span>
<span class="sd">            g: [0.0, 1.0]</span>
<span class="sd">            b: [0.0, 1.0]</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">    Args:</span>
<span class="sd">        hsv (Color_type): (h,s,v).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">h</span><span class="p">,</span><span class="n">s</span><span class="p">,</span><span class="n">v</span> <span class="o">=</span> <span class="n">hsv</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">/=</span> <span class="mi">360</span>
        <span class="n">s</span> <span class="o">/=</span> <span class="n">MAX_SV</span>
        <span class="n">v</span> <span class="o">/=</span> <span class="n">MAX_SV</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
    <span class="n">i</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="o">*</span><span class="mf">6.0</span><span class="p">)</span>
    <span class="n">f</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="o">*</span><span class="mf">6.0</span><span class="p">)</span> <span class="o">-</span> <span class="n">i</span>
    <span class="n">p</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">s</span><span class="p">)</span>
    <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">s</span><span class="o">*</span><span class="n">f</span><span class="p">)</span>
    <span class="n">t</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">v</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">s</span><span class="o">*</span><span class="p">(</span><span class="mf">1.0</span><span class="o">-</span><span class="n">f</span><span class="p">))</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">%</span><span class="mi">6</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">v</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">q</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">p</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">p</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">t</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span><span class="p">,</span> <span class="n">v</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">t</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">v</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">v</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="mi">255</span><span class="p">,</span> <span class="n">g</span><span class="o">*</span><span class="mi">255</span><span class="p">,</span> <span class="n">b</span><span class="o">*</span><span class="mi">255</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span></div>

<div class="viewcode-block" id="rgb_to_hls"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.rgb_to_hls">[docs]</a><span class="k">def</span> <span class="nf">rgb_to_hls</span><span class="p">(</span><span class="n">rgb</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span> <span class="n">digitization</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">MAX_LS</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;RGB -&gt; HLS</span>

<span class="sd">    Note:</span>
<span class="sd">        The value range of (r,g,b) is:</span>
<span class="sd">            r: [0.0, 1.0]</span>
<span class="sd">            g: [0.0, 1.0]</span>
<span class="sd">            b: [0.0, 1.0]</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">        The value range of (h,l,s) is:</span>
<span class="sd">            h: [0.0, 1.0] (or [0, 360])</span>
<span class="sd">            l: [0.0, 1.0] (or [0, MAX_LS])</span>
<span class="sd">            s: [0.0, 1.0] (or [0, MAX_LS])</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">    Args:</span>
<span class="sd">        rgb (Color_type): (r,g,b).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">rgb</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">/=</span> <span class="mi">255</span>
        <span class="n">g</span> <span class="o">/=</span> <span class="mi">255</span>
        <span class="n">b</span> <span class="o">/=</span> <span class="mi">255</span>
    <span class="n">maxc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">minc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
    <span class="n">l</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">minc</span><span class="o">+</span><span class="n">maxc</span><span class="p">)</span> <span class="o">/</span> <span class="mf">2.0</span>
    <span class="k">if</span> <span class="n">minc</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
    <span class="n">s</span><span class="p">:</span> <span class="nb">float</span>
    <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;=</span> <span class="mf">0.5</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">+</span><span class="n">minc</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2.0</span><span class="o">-</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
    <span class="n">rc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">r</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
    <span class="n">gc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">g</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
    <span class="n">bc</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">maxc</span><span class="o">-</span><span class="n">minc</span><span class="p">)</span>
    <span class="n">h</span><span class="p">:</span> <span class="nb">float</span>
    <span class="k">if</span> <span class="n">r</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">bc</span> <span class="o">-</span> <span class="n">gc</span>
    <span class="k">elif</span> <span class="n">g</span> <span class="o">==</span> <span class="n">maxc</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="n">rc</span> <span class="o">-</span> <span class="n">bc</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">=</span> <span class="mf">4.0</span> <span class="o">+</span> <span class="n">gc</span> <span class="o">-</span> <span class="n">rc</span>
    <span class="n">h</span> <span class="o">=</span> <span class="p">(</span><span class="n">h</span><span class="o">/</span><span class="mf">6.0</span><span class="p">)</span> <span class="o">%</span> <span class="mf">1.0</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="o">*</span><span class="mi">360</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">l</span><span class="o">*</span><span class="n">MAX_LS</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="o">*</span><span class="n">MAX_LS</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span></div>

<div class="viewcode-block" id="hls_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.hls_to_rgb">[docs]</a><span class="k">def</span> <span class="nf">hls_to_rgb</span><span class="p">(</span><span class="n">hls</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span> <span class="n">digitization</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">MAX_LS</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;HLS -&gt; RGB</span>

<span class="sd">    Note:</span>
<span class="sd">        The value range of (h,l,s) is:</span>
<span class="sd">            h: [0.0, 1.0] (or [0, 360])</span>
<span class="sd">            l: [0.0, 1.0] (or [0, MAX_LS])</span>
<span class="sd">            s: [0.0, 1.0] (or [0, MAX_LS])</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">        The value range of (r,g,b) is:</span>
<span class="sd">            r: [0.0, 1.0]</span>
<span class="sd">            g: [0.0, 1.0]</span>
<span class="sd">            b: [0.0, 1.0]</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">    Args:</span>
<span class="sd">        hls (Color_type): (h,l,s).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">h</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">s</span> <span class="o">=</span> <span class="n">hls</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="n">h</span> <span class="o">/=</span> <span class="mi">360</span>
        <span class="n">l</span> <span class="o">/=</span> <span class="n">MAX_LS</span>
        <span class="n">s</span> <span class="o">/=</span> <span class="n">MAX_LS</span>
    <span class="n">r</span><span class="p">:</span> <span class="nb">float</span><span class="p">;</span> <span class="n">g</span><span class="p">:</span> <span class="nb">float</span><span class="p">;</span> <span class="n">b</span><span class="p">:</span> <span class="nb">float</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="mf">0.0</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">g</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">l</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">m2</span><span class="p">:</span> <span class="nb">float</span>
        <span class="k">if</span> <span class="n">l</span> <span class="o">&lt;=</span> <span class="mf">0.5</span><span class="p">:</span>
            <span class="n">m2</span> <span class="o">=</span> <span class="n">l</span> <span class="o">*</span> <span class="p">(</span><span class="mf">1.0</span><span class="o">+</span><span class="n">s</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">m2</span> <span class="o">=</span> <span class="n">l</span> <span class="o">+</span> <span class="n">s</span> <span class="o">-</span> <span class="n">l</span><span class="o">*</span><span class="n">s</span>
        <span class="n">m1</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">*</span><span class="n">l</span> <span class="o">-</span> <span class="n">m2</span>
        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">_hls_calc</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">h</span><span class="o">+</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">3.0</span><span class="p">),</span> <span class="n">_hls_calc</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">h</span><span class="p">),</span> <span class="n">_hls_calc</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">h</span><span class="o">-</span><span class="mf">1.0</span><span class="o">/</span><span class="mf">3.0</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="mi">255</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span></div>

<span class="k">def</span> <span class="nf">_hls_calc</span><span class="p">(</span><span class="n">m1</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">m2</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">hue</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="n">hue</span> <span class="o">=</span> <span class="n">hue</span> <span class="o">%</span> <span class="mf">1.0</span>
    <span class="k">if</span> <span class="n">hue</span> <span class="o">&lt;</span> <span class="mf">1.0</span><span class="o">/</span><span class="mf">6.0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">m1</span> <span class="o">+</span> <span class="p">(</span><span class="n">m2</span><span class="o">-</span><span class="n">m1</span><span class="p">)</span><span class="o">*</span><span class="n">hue</span><span class="o">*</span><span class="mf">6.0</span>
    <span class="k">if</span> <span class="n">hue</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">m2</span>
    <span class="k">if</span> <span class="n">hue</span> <span class="o">&lt;</span> <span class="mf">2.0</span><span class="o">/</span><span class="mf">3.0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">m1</span> <span class="o">+</span> <span class="p">(</span><span class="n">m2</span><span class="o">-</span><span class="n">m1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mf">2.0</span><span class="o">/</span><span class="mf">3.0</span><span class="o">-</span><span class="n">hue</span><span class="p">)</span><span class="o">*</span><span class="mf">6.0</span>
    <span class="k">return</span> <span class="n">m1</span>

<div class="viewcode-block" id="rgb_to_yiq"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.rgb_to_yiq">[docs]</a><span class="k">def</span> <span class="nf">rgb_to_yiq</span><span class="p">(</span><span class="n">rgb</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span> <span class="n">digitization</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;RGB -&gt; YIQ</span>

<span class="sd">    Note:</span>
<span class="sd">        The value range of (r,g,b) is:</span>
<span class="sd">            r: [0.0, 1.0]</span>
<span class="sd">            g: [0.0, 1.0]</span>
<span class="sd">            b: [0.0, 1.0]</span>
<span class="sd">            </span>
<span class="sd">        </span>
<span class="sd">        The value range of (y,i,q) is:</span>
<span class="sd">            y: [0.0, 1.0]</span>
<span class="sd">            i: [-0.5959, 0.5959]</span>
<span class="sd">            q: [-0.5229, 0.5229].</span>
<span class="sd">        </span>
<span class="sd">    Args:</span>
<span class="sd">        rgb (Color_type): (r,g,b).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">r</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">rgb</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="n">r</span> <span class="o">/=</span> <span class="mi">255</span>
        <span class="n">g</span> <span class="o">/=</span> <span class="mi">255</span>
        <span class="n">b</span> <span class="o">/=</span> <span class="mi">255</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.299</span><span class="o">*</span><span class="n">r</span> <span class="o">+</span> <span class="mf">0.587</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.114</span><span class="o">*</span><span class="n">b</span>
    <span class="n">i</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.596</span><span class="o">*</span><span class="n">r</span> <span class="o">-</span> <span class="mf">0.274</span><span class="o">*</span><span class="n">g</span> <span class="o">-</span> <span class="mf">0.322</span><span class="o">*</span><span class="n">b</span>
    <span class="n">q</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.211</span><span class="o">*</span><span class="n">r</span> <span class="o">-</span> <span class="mf">0.523</span><span class="o">*</span><span class="n">g</span> <span class="o">+</span> <span class="mf">0.312</span><span class="o">*</span><span class="n">b</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span></div>

<div class="viewcode-block" id="yiq_to_rgb"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.yiq_to_rgb">[docs]</a><span class="k">def</span> <span class="nf">yiq_to_rgb</span><span class="p">(</span><span class="n">yiq</span><span class="p">:</span> <span class="n">Color_type</span><span class="p">,</span> <span class="n">digitization</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Color_type</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;YIQ -&gt; RGB</span>

<span class="sd">    Note:</span>
<span class="sd">        The value range of (y,i,q) is:</span>
<span class="sd">            y: [0.0, 1.0]</span>
<span class="sd">            i: [-0.5959, 0.5959]</span>
<span class="sd">            q: [-0.5229, 0.5229].</span>

<span class="sd">        The value range of (r,g,b) is:</span>
<span class="sd">            r: [0.0, 1.0]</span>
<span class="sd">            g: [0.0, 1.0]</span>
<span class="sd">            b: [0.0, 1.0]</span>
<span class="sd">            </span>

<span class="sd">    Args:</span>
<span class="sd">        yiq (Color_type): (y,i,q).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">y</span><span class="p">,</span><span class="n">i</span><span class="p">,</span><span class="n">q</span> <span class="o">=</span> <span class="n">yiq</span>
    <span class="n">r</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">y</span> <span class="o">+</span> <span class="mf">0.956</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="mf">0.621</span><span class="o">*</span><span class="n">q</span>
    <span class="n">g</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mf">0.273</span><span class="o">*</span><span class="n">i</span> <span class="o">-</span> <span class="mf">0.647</span><span class="o">*</span><span class="n">q</span>
    <span class="n">b</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="mf">1.104</span><span class="o">*</span><span class="n">i</span> <span class="o">+</span> <span class="mf">1.701</span><span class="o">*</span><span class="n">q</span>
    <span class="k">if</span> <span class="n">digitization</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">g</span><span class="o">*</span><span class="mi">255</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="o">*</span><span class="mi">255</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span></div>

<div class="viewcode-block" id="view_gradation"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.view_gradation">[docs]</a><span class="k">def</span> <span class="nf">view_gradation</span><span class="p">(</span><span class="n">color_list</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Color</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Plot the color gradation by matplotlib.</span>

<span class="sd">    Args:</span>
<span class="sd">        color_list (list[Color]): list of `Color` instances.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">color_list</span><span class="p">):</span>
        <span class="n">y</span><span class="p">:</span> <span class="n">npt</span><span class="o">.</span><span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">color_list</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">c</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">()</span><span class="o">.</span><span class="n">_color</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">return</span></div>


<span class="c1"># constants</span>
<span class="n">RGB</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;RGB&quot;</span>
<span class="n">HSV</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;HSV&quot;</span>
<span class="n">HLS</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;HLS&quot;</span>
<span class="n">YIQ</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;YIQ&quot;</span>

<span class="n">RED_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">GREEN_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">BLUE_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">YELLOW_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">MAGENTA_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">CYAN_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">WHITE_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">BLACK_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">GRAY_RGB</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="n">RED_HSV</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">YELLOW_HSV</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">GREEN_HSV</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">CYAN_HSV</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">BLUE_HSV</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">MAGENTA_HSV</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">WHITE_HSV</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">BLACK_HSV</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

<span class="n">RED_HLS</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">YELLOW_HLS</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">GREEN_HLS</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">CYAN_HLS</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">BLUE_HLS</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">MAGENTA_HLS</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mi">5</span><span class="o">/</span><span class="mi">6</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
<span class="n">WHITE_HLS</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">BLACK_HLS</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

<span class="n">RED_YIQ</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.299</span><span class="p">,</span> <span class="mf">0.596</span><span class="p">,</span> <span class="mf">0.211</span><span class="p">)</span>
<span class="n">YELLOW_YIQ</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.886</span><span class="p">,</span> <span class="mf">0.322</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.312</span><span class="p">)</span>
<span class="n">GREEN_YIQ</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.587</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.274</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.523</span><span class="p">)</span>
<span class="n">CYAN_YIQ</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.701</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.596</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.211</span><span class="p">)</span>
<span class="n">BLUE_YIQ</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.114</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.322</span><span class="p">,</span> <span class="mf">0.312</span><span class="p">)</span>
<span class="n">MAGENTA_YIQ</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.413</span><span class="p">,</span> <span class="mf">0.274</span><span class="p">,</span> <span class="mf">0.523</span><span class="p">)</span>
<span class="n">WHITE_YIQ</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">BLACK_YIQ</span><span class="p">:</span> <span class="n">Color_type</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>



<div class="viewcode-block" id="main"><a class="viewcode-back" href="../../../cpystal.color.html#cpystal.color.color.main">[docs]</a><span class="k">def</span> <span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">pass</span>
    <span class="k">def</span> <span class="nf">check_color_temp</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1000</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">3000</span><span class="p">,</span><span class="mi">4000</span><span class="p">,</span><span class="mi">5000</span><span class="p">,</span><span class="mi">6500</span><span class="p">,</span><span class="mi">7000</span><span class="p">,</span><span class="mi">10000</span><span class="p">,</span><span class="mi">50000</span><span class="p">]:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">color_temperature</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">Color</span><span class="o">.</span><span class="n">color_temperature</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">srgb_255</span><span class="p">())</span>
            <span class="nb">print</span><span class="p">()</span>
        <span class="n">color_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">Color</span><span class="o">.</span><span class="n">color_temperature</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">to_srgb</span><span class="p">()</span> <span class="k">for</span> <span class="n">T</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span><span class="mi">10000</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">1000</span><span class="p">)]</span>
        <span class="c1"># Gradation.visualize_gradation(Gradation.planckian_curve(1000,10000))</span>

        <span class="n">color_list</span> <span class="o">=</span> <span class="n">Gradation</span><span class="p">(</span><span class="n">Color</span><span class="p">(</span><span class="n">BLUE_HSV</span><span class="p">,</span><span class="s2">&quot;HSV&quot;</span><span class="p">),</span> <span class="n">Color</span><span class="p">(</span><span class="n">RED_HSV</span><span class="p">,</span><span class="s2">&quot;HSV&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">gradation_helical_list</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span><span class="n">clockwise</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">next_color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">)</span>
        <span class="n">color_list2</span> <span class="o">=</span> <span class="n">Gradation</span><span class="p">(</span><span class="n">Color</span><span class="p">(</span><span class="n">BLUE_HSV</span><span class="p">,</span><span class="s2">&quot;HSV&quot;</span><span class="p">),</span> <span class="n">Color</span><span class="p">(</span><span class="n">RED_HSV</span><span class="p">,</span><span class="s2">&quot;HSV&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">gradation_helical_list</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span><span class="n">clockwise</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">next_color_system</span><span class="o">=</span><span class="s2">&quot;sRGB&quot;</span><span class="p">)</span>
        <span class="n">color_list3</span> <span class="o">=</span> <span class="n">Gradation</span><span class="p">(</span><span class="n">Color</span><span class="p">(</span><span class="n">BLUE_HSV</span><span class="p">,</span><span class="s2">&quot;HSV&quot;</span><span class="p">),</span> <span class="n">Color</span><span class="p">(</span><span class="n">RED_HSV</span><span class="p">,</span><span class="s2">&quot;HSV&quot;</span><span class="p">))</span><span class="o">.</span><span class="n">gradation_helical_list</span><span class="p">(</span><span class="n">num</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">clockwise</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">next_color_system</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">)</span>
        <span class="n">color_list4</span> <span class="o">=</span> <span class="n">Gradation</span><span class="o">.</span><span class="n">equidistant</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">Gradation</span><span class="o">.</span><span class="n">compare_gradations</span><span class="p">([</span><span class="n">color_list</span><span class="p">,</span><span class="n">color_list2</span><span class="p">,</span> <span class="n">color_list3</span><span class="p">,</span> <span class="n">color_list4</span><span class="p">])</span></div>

    <span class="c1"># check_color_temp()</span>
    <span class="c1"># plot_colortable(mcolors.BASE_COLORS, ncols=3, sort_colors=False)</span>

    <span class="c1"># names = sorted(mcolors.CSS4_COLORS, key=lambda c: tuple(mcolors.rgb_to_hsv(mcolors.to_rgb(c))))</span>
    <span class="c1"># names = sorted([(*tuple(mcolors.rgb_to_hsv(mcolors.to_rgb(c))),c) for c in mcolors.CSS4_COLORS])</span>
    <span class="c1"># print(names)</span>


    <span class="c1"># colors = [Color(Color.from_color_code(c),RGB) for _, c in mcolors.CSS4_COLORS.items()]</span>

    <span class="c1"># colors = [</span>
    <span class="c1">#     Color((240/360, 1.0, 0.5), HSV),</span>
    <span class="c1">#     Color((240/360, 1.0, 1.0), HSV),</span>
    <span class="c1">#     Color((210/360, 1.0, 1.0), HSV),</span>
    <span class="c1">#     Color((190/360, 1.0, 1.0), HSV),</span>
    <span class="c1">#     Color((160/360, 1.0, 1.0), HSV),</span>
    <span class="c1">#     Color((110/360, 1.0, 1.0), HSV),</span>
    <span class="c1">#     Color((70/360, 1.0, 1.0), HSV),</span>
    <span class="c1">#     Color((50/360, 1.0, 1.0), HSV),</span>
    <span class="c1">#     Color((30/360, 1.0, 1.0), HSV),</span>
    <span class="c1">#     Color((0/360, 1.0, 0.95), HSV),</span>
    <span class="c1"># ]</span>
    <span class="c1"># import matplotlib.cm as cm</span>

    <span class="c1"># colors = [</span>
    <span class="c1">#     Color.from_color_code(&quot;#000000&quot;),</span>
    <span class="c1">#     # Color.from_color_code(&quot;#6600cc&quot;),</span>
    <span class="c1">#     Color.from_color_code(&quot;#8c67aa&quot;).change_saturation_hsv(0.8),</span>
    <span class="c1">#     Color.from_color_code(&quot;#0000ff&quot;),</span>
    <span class="c1">#     Color.from_color_code(&quot;#6292e9&quot;).change_saturation_hsv(0.8),</span>
    <span class="c1">#     Color.from_color_code(&quot;#95caee&quot;).change_saturation_hsv(0.5),</span>
    <span class="c1">#     Color.from_color_code(&quot;#62bd93&quot;).change_saturation_hsv(0.8),</span>
    <span class="c1">#     Color.from_color_code(&quot;#adff2f&quot;).change_saturation_hsv(0.8),</span>
    <span class="c1">#     Color.from_color_code(&quot;#fdd162&quot;).change_saturation_hsv(0.8),</span>
    <span class="c1">#     Color.from_color_code(&quot;#fe9952&quot;).change_saturation_hsv(0.8),</span>
    <span class="c1">#     # Color.from_color_code(&quot;#e08696&quot;),</span>
    <span class="c1">#     Color.from_color_code(&quot;#fb5458&quot;).change_saturation_hsv(0.8),</span>
    <span class="c1"># ]</span>
    <span class="c1"># plot_colortable(colors, ncols=2, sort_colors=False)</span>
    <span class="c1"># # plot_colortable(Gradation.ten_colors(), ncols=1, sort_colors=False)</span>
    <span class="c1"># plt.show()</span>

    <span class="c1"># print(*[c.to_hsv() for c in colors],sep=&quot;\n&quot;)</span>

    <span class="c1"># print(Color((270/360,1.0,0.8), HSV).color_code())</span>

    <span class="c1"># print(colors)</span>



    <span class="c1"># r: Color = Color(RED_HSV, HSV)</span>
    <span class="c1"># g: Color = Color(GREEN_HSV, HSV)</span>
    <span class="c1"># b: Color = Color(BLUE_HSV, HSV)</span>
    <span class="c1"># g = Gradation.multi_middle([b,r,g], [&quot;helical&quot;]*3)</span>
    <span class="c1"># r: Color = Color(RED_RGB, RGB)</span>
    <span class="c1"># g: Color = Color(GREEN_RGB, RGB)</span>
    <span class="c1"># b: Color = Color(BLUE_RGB, RGB)</span>
    <span class="c1"># g = Gradation.multi_middle([b,r,g], [&quot;linear&quot;]*3)</span>
    <span class="c1"># g.visualize_gradation()</span>







    <span class="c1"># C1: Color = Color(RED_RGB, RGB)</span>
    <span class="c1"># C2: Color = Color(RED_HSV, HSV)</span>
    <span class="c1"># C3: Color = Color(GREEN_HSV, HSV)</span>
    <span class="c1"># C4: Color = Color(BLUE_YIQ, YIQ)</span>
    <span class="c1"># print(C1.color_code())</span>
    <span class="c1"># print(-(-C1.to_rgb()))</span>

    <span class="c1"># import numpy as np</span>
    <span class="c1"># A: npt.NDArray[np.float32] = np.array([</span>
    <span class="c1">#     [1.047886,  0.022919, -0.050216],</span>
    <span class="c1">#     [0.029582,  0.990484, -0.017079],</span>
    <span class="c1">#     [-0.009252,  0.015073,  0.751678]</span>
    <span class="c1"># ])</span>
    <span class="c1"># print(np.linalg.inv(A))</span>
    <span class="c1"># pass</span>
    <span class="c1"># # G = Gradation(Color(RED_RGB, RGB), Color(BLUE_RGB, RGB), middle=Color(GREEN_RGB, RGB))</span>

    <span class="c1"># G = Gradation(Color(RED_HSV, HSV), Color(BLUE_HSV, HSV), middle=Color(GREEN_HSV, HSV))</span>
    <span class="c1"># # G = Gradation(Color(RED_HLS, HLS), Color(BLUE_HLS, HLS))</span>
    <span class="c1"># # G = Gradation(Color(RED_YIQ, YIQ), Color(BLUE_YIQ, YIQ))</span>

    <span class="c1"># # view_gradation(G.gradation_linear_list())</span>
    <span class="c1"># # view_gradation(G.gradation_helical_list(clockwise=False))</span>
    <span class="c1"># print(G.gradation_chart_list(order=(2,1,0)))</span>
    <span class="c1"># view_gradation(G.gradation_chart_list(num=100,order=(0,2,1)))</span>



<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>

</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">cpystal</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cpystal.html">cpystal package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Helve.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>